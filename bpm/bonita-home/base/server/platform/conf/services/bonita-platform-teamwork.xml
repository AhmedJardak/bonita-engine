<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<bean id="eventService" class="com.bonitasoft.engine.events.impl.ConfigurableEventServiceImpl">
		<constructor-arg name="handlers">
			<map />
		</constructor-arg>
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="queriableLoggerStrategy" class="com.bonitasoft.engine.log.api.impl.MapQueriableLoggerStrategy" >
		<constructor-arg name="loggableLevels">
			<map>
				<entry key="ACTOR_CREATED:INTERNAL" value="true" />
				<entry key="ACTOR_DELETED:INTERNAL" value="true" />
				<entry key="ACTOR_UPDATED:INTERNAL" value="true" />
				<entry key="APPLICATION_CREATED:INTERNAL" value="true" />
				<entry key="APPLICATION_DELETED:INTERNAL" value="true" />
				<entry key="APPLICATION_UPDATED:INTERNAL" value="true" />
				<entry key="APPLICATION_PAGE_CREATED:INTERNAL" value="true" />
				<entry key="APPLICATION_PAGE_DELETED:INTERNAL" value="true" />
				<entry key="APPLICATION_PAGE_UPDATED:INTERNAL" value="true" />
				<entry key="APPLICATION_MENU_CREATED:INTERNAL" value="true" />
				<entry key="APPLICATION_MENU_DELETED:INTERNAL" value="true" />
				<entry key="APPLICATION_MENU_UPDATED:INTERNAL" value="true" />
				<entry key="BREAKPOINT_CREATED:INTERNAL" value="true" />
				<entry key="BREAKPOINT_DELETED:INTERNAL" value="true" />
				<entry key="CATEGORY_CREATED:INTERNAL" value="true" />
				<entry key="CATEGORY_DELETED:INTERNAL" value="true" />
				<entry key="CATEGORY_UPDATED:INTERNAL" value="true" />
				<entry key="COMMAND_CREATED:INTERNAL" value="true" />
				<entry key="COMMAND_DELETED:INTERNAL" value="true" />
				<entry key="COMMAND_UPDATED:INTERNAL" value="true" />
				<entry key="COMMENT_CREATED:INTERNAL" value="true" />
				<entry key="COMMENT_DELETED:INTERNAL" value="true" />
				<entry key="CONNECTOR_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="CONNECTOR_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="CONNECTOR_INSTANCE_DELETED:INTERNAL" value="true" />
				<entry key="DATA_SOURCE_CREATED:INTERNAL" value="true" />
				<entry key="DATA_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="DATA_INSTANCE_DELETED:INTERNAL" value="true" />
				<entry key="DATA_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="DEPENDENCY_CREATED:INTERNAL" value="true" />
				<entry key="DEPENDENCY_DELETED:INTERNAL" value="true" />
				<entry key="DEPENDENCY_UPDATED:INTERNAL" value="true" />
				<entry key="DEPENDENCY_MAPPING_CREATED:INTERNAL" value="true" />
				<entry key="DEPENDENCY_MAPPING_DELETED:INTERNAL" value="true" />
				<entry key="DOCUMENT_CREATED:INTERNAL" value="true" />
				<entry key="DOCUMENT_DELETED:INTERNAL" value="true" />
				<entry key="DOCUMENTMAPPING_CREATED:INTERNAL" value="true" />
				<entry key="DOCUMENTMAPPING_DELETED:INTERNAL" value="true" />
				<entry key="DOCUMENTMAPPING_UPDATED:INTERNAL" value="true" />
				<entry key="EVENT_INSTANCE_TRIGGER_CREATED:INTERNAL" value="true" />
				<entry key="EVENT_INSTANCE_TRIGGER_DELETED:INTERNAL" value="true" />
				<entry key="EVENT_INSTANCE_TRIGGER_UPDATED:INTERNAL" value="true" />
				<entry key="EXTERNAL_IDENTITY_MAPPING_CREATED:INTERNAL" value="true" />
				<entry key="EXTERNAL_IDENTITY_MAPPING_DELETED:INTERNAL" value="true" />
				<entry key="FLOW_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="FLOW_INSTANCE_DELETED:INTERNAL" value="true" />
				<entry key="FLOW_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="GATEWAY_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="GATEWAY_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_GROUP_CREATED:INTERNAL" value="false" />
				<entry key="IDENTITY_GROUP_DELETED:INTERNAL" value="false" />
				<entry key="IDENTITY_GROUP_UPDATED:INTERNAL" value="false" />
				<entry key="IDENTITY_ROLE_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_ROLE_DELETED:INTERNAL" value="true" />
				<entry key="IDENTITY_ROLE_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_DELETED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_CONTACT_INFO_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_CONTACT_INFO_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_MEMBERSHIP_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_MEMBERSHIP_DELETED:INTERNAL" value="true" />
				<entry key="IDENTITY_USER_MEMBERSHIP_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_DELETED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_UPDATED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_CREATED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_DELETED:INTERNAL" value="true" />
				<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_UPDATED:INTERNAL" value="true" />
				<entry key="JOB_CREATED:INTERNAL" value="false" />
				<entry key="JOB_DELETED:INTERNAL" value="false" />
				<entry key="JOB_PARAMETER_CREATED:INTERNAL" value="true" />
				<entry key="MESSAGE_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="MESSAGE_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="PAGE_CREATED:INTERNAL" value="true" />
				<entry key="PAGE_DELETED:INTERNAL" value="true" />
				<entry key="PAGE_UPDATED:INTERNAL" value="true" />
				<entry key="PENDING_ACTIVITY_MAPPING_CREATED:INTERNAL" value="true" />
				<entry key="PROCESS_DEFINITION_CREATED:INTERNAL" value="true" />
				<entry key="PROCESS_DEFINITION_DELETED:INTERNAL" value="true" />
				<entry key="PROCESS_DEFINITION_UPDATED:INTERNAL" value="true" />
				<entry key="PROCESS_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="PROCESS_INSTANCE_DELETED:INTERNAL" value="true" />
				<entry key="PROCESS_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="PROFILE_CREATED:INTERNAL" value="true" />
				<entry key="PROFILE_DELETED:INTERNAL" value="true" />
				<entry key="PROFILE_UPDATED:INTERNAL" value="true" />
				<entry key="PROFILE_MEMBER_CREATED:INTERNAL" value="true" />
				<entry key="PROFILE_MEMBER_DELETED:INTERNAL" value="true" />
				<entry key="PROFILE_MEMBER_UPDATED:INTERNAL" value="true" />
				<entry key="PROFILE_ENTRY_CREATED:INTERNAL" value="true" />
				<entry key="PROFILE_ENTRY_DELETED:INTERNAL" value="true" />
				<entry key="PROFILE_ENTRY_UPDATED:INTERNAL" value="true" />
				<entry key="REF_BUSINESS_DATA_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="REF_BUSINESS_DATA_INSTANCE_UPDATED:INTERNAL" value="true" />
				<entry key="REF_BUSINESS_DATA_INSTANCE_DELETED:INTERNAL" value="true" />
				<entry key="SCHEDULER_SCHEDULED:INTERNAL" value="false" />
				<entry key="SUPERVISOR_CREATED:INTERNAL" value="true" />
				<entry key="SUPERVISOR_DELETED:INTERNAL" value="true" />
				<entry key="THEME_CREATED:INTERNAL" value="true" />
				<entry key="THEME_DELETED:INTERNAL" value="true" />
				<entry key="THEME_UPDATED:INTERNAL" value="true" />
				<entry key="TRANSITION_INSTANCE_CREATED:INTERNAL" value="true" />
				<entry key="TRANSITION_INSTANCE_DELETED:INTERNAL" value="true" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="syncQueriableLoggerService" class="com.bonitasoft.engine.log.api.impl.BatchQueriableLoggerImpl">
		<constructor-arg name="persistenceService" ref="persistenceService" />
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="loggerStrategy" ref="queriableLoggerStrategy" />
		<constructor-arg name="sessionProvider" ref="queriableLogSessionProvider" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="platformService" ref="platformService" />
		<constructor-arg name="delayable" value="false" />
	</bean>

	<bean id="batchLogRegister" class="com.bonitasoft.engine.log.api.impl.InsertBatchLogsJobRegister">
		<constructor-arg name="cronExpression" value="0/5 * * * * ?" />
	</bean>

	<bean id="jvmMXBean" class="com.bonitasoft.engine.monitoring.mbean.impl.SJvmMXBeanImpl" />

	<bean id="platformMonitoringService" class="com.bonitasoft.engine.monitoring.impl.PlatformMonitoringServiceImpl">
		<constructor-arg name="allowMbeansRegistration" value="true" />
		<constructor-arg name="jvmMBean" ref="jvmMXBean" />
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="schedulerService" ref="scheduler" />
		<constructor-arg name="technicalLog" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="nodeConfiguration" class="org.bonitasoft.engine.api.impl.NodeConfigurationImpl" autowire="byType">
		<property name="shouldStartScheduler" value="true" />
		<property name="shouldRestartElements" value="true" />
		<property name="TenantRestartHandlers">
			<list>
				<bean class="org.bonitasoft.engine.execution.work.RestartFlowNodesHandler" />
				<bean class="org.bonitasoft.engine.execution.work.RestartProcessHandler" />
				<bean class="org.bonitasoft.engine.execution.work.BPMEventWorksHandler" />
				<bean class="com.bonitasoft.engine.profile.ProfilesUpdaterRestartHandlerExt" />
			</list>
		</property>
		<property name="restartHandlers">
			<list>
				<ref bean="schedulerServiceRestartHandler" />
			</list>
		</property>
		<property name="lifecycleServices">
			<list>
				<ref bean="classLoaderService" />
				<ref bean="platformCacheService" />
			</list>
		</property>
		<property name="jobListeners">
			<list>
				<ref bean="loggerJobListener" />
				<ref bean="jdbcJobListener" />
			</list>
		</property>
	</bean>

	<bean id="jobLogCreator" class="org.bonitasoft.engine.scheduler.impl.JobLogCreator">
		<constructor-arg name="jobService" ref="jobService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="jdbcJobListener" class="org.bonitasoft.engine.scheduler.impl.JDBCJobListener">
		<constructor-arg name="schedulerService" ref="scheduler" />
		<constructor-arg name="schedulerExecutor" ref="schedulerExecutor" />
		<constructor-arg name="jobService" ref="jobService" />
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="incidentService" ref="incidentService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="jobLogCreator" ref="jobLogCreator" />
	</bean>

	<bean id="loggerJobListener" class="org.bonitasoft.engine.scheduler.impl.TechnicalLoggerJobListener">
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="schedulerServiceRestartHandler" class="org.bonitasoft.engine.handler.SchedulerServiceRestartHandler">
		<constructor-arg name="schedulerService" ref="scheduler" />
		<constructor-arg name="technicalLoggerService" ref="platformTechnicalLoggerService" />
	</bean>

	<bean name="sequenceManager" class="org.bonitasoft.engine.sequence.SequenceManagerImpl">
		<constructor-arg name="lockService" ref="lockService" />
		<constructor-arg name="rangeSizes">
			<map>
				<!-- Most used objects: range size depends on process design -->
				<entry key="70" value="2000" /><!-- Job description -->
				<entry key="30" value="10000" /><!-- queriable log -->
				<entry key="31" value="200000" /><!-- queriable log parameter -->
				<entry key="10010" value="1000" /><!-- ProcessInstance -->
				<entry key="10011" value="20000" /><!-- ActivityInstance --><!-- 20 step by process average -->
				<entry key="10013" value="20000" /><!-- TransitoinInstance --><!-- same as activity instance -->
				<entry key="10014" value="20000" /><!-- ConnectorInstance --><!-- same as activity instance -->
				<entry key="20010" value="3000" /><!-- archived ProcessInstance --><!-- Process instance * nb state -->
				<entry key="20011" value="80000" /><!-- archived ActivityInstance --><!-- Activity instance * average nb state -->
				<entry key="20012" value="40000" /><!-- archived TransitionInstance --><!-- transition instance * nb state -->
				<entry key="10015" value="4000" /><!-- EventTriggerInstance --><!-- 1/5 of activity -->
				<entry key="10016" value="4000" /><!-- WaitingEvent --><!-- 1/5 of activity -->
				<entry key="10017" value="4000" /><!-- MessageInstance --><!-- 1/5 of activity -->
				<entry key="10018" value="4000" /><!-- PendingActivityMapping --><!-- 1/5 of activity -->
				<entry key="10020" value="5000" /><!-- data -->
				<entry key="20050" value="25000" /><!-- archived data --><!-- 5 change by data -->
				<entry key="10060" value="20000" /><!-- comment -->
				<entry key="10080" value="20000" /><!-- SAComment -->

				<!-- less used objects : -->
				<!-- <entry key="10012" value="100" />ProcessDefinition -->
				<!-- <entry key="20" value="100" />user -->
				<!-- <entry key="21" value="100" />group -->
				<!-- <entry key="22" value="100" />role -->
				<!-- <entry key="23" value="100" />user_memebership -->
				<!-- <entry key="24" value="100" />P-metadata_def -->
				<!-- <entry key="25" value="100" />P-metadata_val -->
				<!-- <entry key="26" value="100" />user_contactinfo -->
				<!-- <entry key="50" value="100" />dataSource -->
				<!-- <entry key="51" value="100" />dataSourceParameter -->
				<!-- <entry key="60" value="100" />employee -->
				<!-- <entry key="61" value="100" />laptop -->
				<!-- <entry key="62" value="100" />address -->
				<!-- <entry key="63" value="100" />project -->
				<!-- <entry key="64" value="100" />employeeprojectmapping -->
				<!-- <entry key="65" value="100" />saemployee -->
				<!-- <entry key="70" value="100" />jobDescriptor -->
				<!-- <entry key="71" value="100" />jobParameter -->
				<!-- <entry key="90" value="100" />command -->
				<!-- <entry key="4" value="100" />platform command -->
				<!-- <entry key="10000" value="100" />actor -->
				<!-- <entry key="10001" value="100" />actorMapping -->
				<!-- <entry key="10019" value="100" />Breakpoint -->
				<!-- <entry key="10096" value="100" />RefBusinessDataInstance -->
				<!-- <entry key="10030" value="100" />category -->
				<!-- <entry key="10040" value="100" />SDocumentMapping -->
				<!-- <entry key="10050" value="100" />supervisor -->
				<!-- <entry key="10070" value="100" />ExternalIdentityMapping -->
				<!-- <entry key="10090" value="100" />document_content -->
				<!-- <entry key="20040" value="100" />SADocumentMapping -->
			</map>
		</constructor-arg>
		<constructor-arg name="defaultRangeSize" value="100" />
		<constructor-arg name="sequencesMappings">
			<map>
				<!-- platform -->
				<entry key="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" value="0" />
				<entry key="org.bonitasoft.engine.platform.model.impl.STenantImpl" value="1" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" value="2" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" value="3" />
				<entry key="org.bonitasoft.engine.platform.command.model.impl.SPlatformCommandImpl" value="4" />
				<!--  tenant -->
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" value="10" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" value="11" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserImpl" value="20" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SRoleImpl" value="21" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SGroupImpl" value="22" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" value="23" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" value="24" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" value="25" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SContactInfoImpl" value="26" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogImpl" value="30" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogParameterImpl" value="31" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobDescriptorImpl" value="70" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobParameterImpl" value="71" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobLogImpl" value="72" />
				<entry key="org.bonitasoft.engine.command.model.SCommandImpl" value="90" />
				<entry key="org.bonitasoft.engine.theme.model.impl.SThemeImpl" value="9890" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileImpl" value="9990" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" value="9991" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" value="9992" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" value="10000" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" value="10001" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" value="10010" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SAutomaticTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SCallActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SSubProcessActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SUserTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SHumanTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SReceiveTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SSendTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SManualTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SLoopActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SMultiInstanceActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SGatewayInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SStartEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateCatchEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SBoundaryEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateThrowEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SEndEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" value="10012" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.impl.SActorImpl" value="10013" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" value="10014" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceWithFailureInfoImpl" value="10014" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.STimerEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowMessageEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowSignalEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowErrorEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingMessageEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingSignalEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingErrorEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SMessageInstanceImpl" value="10017" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SPendingActivityMappingImpl" value="10018" />
				<entry key="com.bonitasoft.engine.core.process.instance.model.breakpoint.impl.SBreakpointImpl" value="10019" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessMultiRefBusinessDataInstanceImpl" value="10096" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessSimpleRefBusinessDataInstanceImpl" value="10096" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SFlowNodeSimpleRefBusinessDataInstanceImpl" value="10096" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SBooleanDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SIntegerDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDoubleDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SFloatDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SShortTextDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SLongDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDateDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SLongTextDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SBlobDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLObjectDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" value="10030" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" value="10031" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" value="10040" />
				<entry key="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" value="10050" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.impl.SHumanCommentImpl" value="10060" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.impl.SSystemCommentImpl" value="10060" />
				<entry key="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" value="10070" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.archive.impl.SACommentImpl" value="10080" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" value="10090" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SLightDocumentImpl" value="10090" />
				<entry key="com.bonitasoft.engine.core.reporting.SSaveReportWithContentImpl" value="500" />
				<entry key="org.bonitasoft.engine.page.impl.SPageWithContentImpl" value="10120" />
				<entry key="org.bonitasoft.engine.page.impl.SPageImpl" value="10120" />
				<entry key="org.bonitasoft.engine.page.impl.SPageContentImpl" value="10120" />
				<entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationImpl" value="10200" />
				<entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl" value="10201" />
				<entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl" value="10202" />
				<!-- archived objects -->
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAProcessInstanceImpl" value="20010" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAFlowNodeInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAAutomaticTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SACallActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASubProcessActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAUserTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAManualTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAHumanTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAReceiveTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASendTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SALoopActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAMultiInstanceActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAStartEventInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAEndEventInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAGatewayInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SATransitionInstanceImpl" value="20012" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAConnectorInstanceImpl" value="20013" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABooleanDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAIntegerDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADoubleDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAFloatDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAShortTextDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADateDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongTextDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABlobDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLObjectDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.core.document.model.archive.impl.SADocumentMappingImpl" value="20040" />
			</map>
		</constructor-arg>
		<constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
		<constructor-arg name="retries" value="9" />
		<constructor-arg name="delay" value="10" />
		<constructor-arg name="delayFactor" value="3" />
	</bean>

	<bean id="transactionManager" class="org.springframework.jndi.JndiObjectFactoryBean">
		<property name="jndiName" value="${transaction.manager}" />
	</bean>

	<bean id="bonitaDSJNDI" class="org.springframework.jndi.JndiObjectFactoryBean">
		<property name="jndiName" value="${database.journal.datasource.name}" />
	</bean>

	<bean id="transactionService" class="com.bonitasoft.engine.transaction.JTATransactionServiceExt" scope="singleton">
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="txManager" ref="transactionManager" />
		<constructor-arg name="retries" value="3" />
		<constructor-arg name="delay" value="20" />
		<constructor-arg name="delayFactor" value="1.5" />
	</bean>
	<bean id="dbProperties" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="systemPropertiesModeName" value="SYSTEM_PROPERTIES_MODE_OVERRIDE" />
		<property name="locations">
			<list>
				<value>${bonita.home}/server/platform/conf/bonita-platform.properties</value>
				<value>${bonita.home}/server/platform/conf/jdbc-${db.vendor}.xml</value>
			</list>
		</property>
	</bean>

	<bean id="queriableLogSessionProvider" class="org.bonitasoft.engine.services.impl.QueriableLogSessionProviderImpl">
		<constructor-arg name="sessionService" ref="sessionService" />
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="technicalLoggerService" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="platformRecorderSync" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
		<constructor-arg name="persistenceService" ref="platformPersistenceService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="eventService" ref="eventService" />
	</bean>

	<bean id="tenantRecorderSyncForPlatform" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
		<constructor-arg name="persistenceService" ref="persistenceService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="eventService" ref="eventService" />
	</bean>

	<bean id="parserFactory" class="org.bonitasoft.engine.xml.parse.SAXParserFactory">
		<constructor-arg name="validatorFactory" ref="xmlValidatorFactory" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="xmlValidatorFactory" class="org.bonitasoft.engine.xml.SAXValidatorFactory" />

	<bean id="xmlValidator" class="org.bonitasoft.engine.xml.SAXValidator" />

	<bean id="xmlWriter" class="org.bonitasoft.engine.xml.DOMWriter">
		<constructor-arg name="validator" ref="xmlValidator" />
	</bean>

	<bean id="searchPlatformEntitiesDescriptor" class="com.bonitasoft.engine.search.descriptor.SearchPlatformEntitiesDescriptor" />

	<bean id="transactionExecutor" class="org.bonitasoft.engine.execution.TransactionExecutorImpl">
		<constructor-arg name="transactionService" ref="transactionService" />
	</bean>

</beans>