<beans
        xmlns="http://www.springframework.org/schema/beans"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

    <bean id="archivingStrategy" class="org.bonitasoft.engine.archive.impl.DefaultArchivingStrategy" />

    <bean id="synchroService" class="org.bonitasoft.engine.synchro.SynchroServiceImpl">
        <constructor-arg name="initialCapacity" value="50" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="cacheService" ref="platformCacheService" />
    </bean>

    <bean id="sessionProvider" class="org.bonitasoft.engine.session.impl.SessionProviderImpl">
    </bean>

    <bean id="sessionService" class="org.bonitasoft.engine.session.impl.SessionServiceImpl">
        <constructor-arg name="sessionProvider" ref="sessionProvider" />
        <constructor-arg name="applicationName" value="BPM" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <!-- set Engine session duration (in ms) : -->
        <property name="sessionDuration" value="3600000" />
    </bean>

    <bean id="quartzProperties" class="org.springframework.beans.factory.config.PropertiesFactoryBean">
        <property name="properties">
            <props>
                <prop key="org.quartz.scheduler.skipUpdateCheck">${org.quartz.scheduler.skipUpdateCheck:true}</prop>
                <prop key="org.quartz.threadPool.class">org.quartz.simpl.SimpleThreadPool</prop>
                <prop key="org.quartz.threadPool.threadCount">5</prop>
                <prop key="org.quartz.jobStore.class">org.bonitasoft.engine.scheduler.impl.BonitaJobStoreCMT</prop>
                <prop key="org.quartz.jobStore.driverDelegateClass">${${db.vendor}.quartz.connection.jobstoredriver}</prop>
                <prop key="org.quartz.jobStore.dataSource">managedDS</prop>
                <prop key="org.quartz.jobStore.useProperties">true</prop>
                <prop key="org.quartz.jobStore.nonManagedTXDataSource">notManagedDS</prop>
                <prop key="org.quartz.dataSource.managedDS.jndiURL">${database.journal.datasource.name}</prop>
                <prop key="org.quartz.dataSource.notManagedDS.jndiURL">${database.sequence.manager.datasource.name}</prop>
                <prop key="org.quartz.jobStore.dontSetAutoCommitFalse">true</prop>
                <prop key="org.quartz.scheduler.wrapJobExecutionInUserTransaction">true</prop>
                <prop key="org.quartz.scheduler.userTransactionURL">${userTransaction}</prop>
            </props>
        </property>
    </bean>

    <bean id="schedulerExecutor" class="org.bonitasoft.engine.scheduler.impl.QuartzSchedulerExecutor">
        <constructor-arg name="schedulerFactory" ref="quartzSchedulerFactory" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="transactionService" ref="transactionService" />
        <constructor-arg name="useOptimization" value="true" />
    </bean>

    <bean id="jobService" class="org.bonitasoft.engine.scheduler.impl.JobServiceImpl">
        <constructor-arg name="eventService" ref="eventService" />
        <constructor-arg name="recorder" ref="tenantRecorderSyncForPlatform" />
        <constructor-arg name="readPersistenceService" ref="persistenceService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="scheduler" class="org.bonitasoft.engine.scheduler.impl.SchedulerServiceImpl">
        <constructor-arg name="schedulerExecutor" ref="schedulerExecutor" />
        <constructor-arg name="jobService" ref="jobService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="eventService" ref="eventService" />
        <constructor-arg name="transactionService" ref="transactionService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="servicesResolver" ref="servicesResolver" />
        <constructor-arg name="batchSize" value="1000" />
    </bean>

    <bean id="servicesResolver" class="org.bonitasoft.engine.service.ProcessEngineServicesResolver" />

    <bean id="quartzSchedulerFactory" class="org.bonitasoft.engine.scheduler.impl.BonitaSchedulerFactory">
        <constructor-arg name="props" ref="quartzProperties" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformSessionProvider" class="org.bonitasoft.engine.platform.session.impl.PlatformSessionProviderImpl">
    </bean>

    <bean id="platformSessionService" class="org.bonitasoft.engine.platform.session.impl.PlatformSessionServiceImpl">
        <constructor-arg name="platformSessionProvider" ref="platformSessionProvider" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformLoginService" class="org.bonitasoft.engine.core.platform.login.impl.PlatformLoginServiceImpl">
        <constructor-arg name="platformAuthenticationService" ref="platformAuthenticationService" />
        <constructor-arg name="platformSessionService" ref="platformSessionService" />
    </bean>

    <bean id="platformCommandService" class="org.bonitasoft.engine.platform.command.impl.PlatformCommandServiceImpl">
        <constructor-arg name="platformPersistenceService" ref="platformPersistenceService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformAuthenticationService" class="org.bonitasoft.engine.service.impl.PlatformAuthenticationChecker" />

    <bean id="sqlFolders" parent="communitySqlFolders" class="org.springframework.beans.factory.config.ListFactoryBean">
        <property name="sourceList">
            <list merge="true">
            </list>
        </property>
    </bean>

    <bean id="communitySqlFolders" class="org.springframework.beans.factory.config.ListFactoryBean">
        <property name="sourceList">
            <list merge="true">
                <value>/sql/${db.vendor}</value>
            </list>
        </property>
    </bean>

    <bean id="platformService" class="org.bonitasoft.engine.platform.impl.PlatformServiceImpl">
        <constructor-arg ref="platformPersistenceService" />
        <constructor-arg name="tenantPersistenceServices">
            <list>
                <ref bean="persistenceService" />
            </list>
        </constructor-arg>
        <constructor-arg ref="platformTechnicalLoggerService" />
        <constructor-arg ref="platformCacheService" />
        <constructor-arg ref="platformProperties" />
        <constructor-arg name="recorder" ref="platformRecorderSync" />
        <constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <!-- read SQL files from within bonita-server.jar -->
        <constructor-arg name="sqlFolders" ref="sqlFolders" />
        <constructor-arg name="statementDelimiter" value="${${db.vendor}.sql.delimiter}" />
    </bean>

    <bean id="platformProperties" class="org.bonitasoft.engine.platform.model.impl.SPlatformPropertiesImpl" />

    <bean id="parameterService" class="org.bonitasoft.engine.parameter.propertyfile.PropertyFileParameterService">
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="cacheService" ref="platformCacheService" />
    </bean>

    <bean id="parameterExpressionExecutorStrategy" class="org.bonitasoft.engine.expression.ParameterExpressionExecutorStrategy">
        <constructor-arg name="parameterService" ref="parameterService" />
    </bean>


    <bean id="nodeConfiguration" class="org.bonitasoft.engine.api.impl.NodeConfigurationImpl" autowire="byType">
        <property name="shouldStartScheduler" value="true" />
        <property name="shouldRestartElements" value="true" />
        <property name="TenantRestartHandlers">
            <list>
                <bean class="org.bonitasoft.engine.execution.work.RestartFlowNodesHandler" />
                <bean class="org.bonitasoft.engine.execution.work.RestartProcessHandler" />
                <bean class="org.bonitasoft.engine.execution.work.BPMEventWorksHandler" />
                <bean class="org.bonitasoft.engine.profile.ProfilesUpdaterRestartHandler" />
            </list>
        </property>
        <property name="restartHandlers">
            <list>
                <ref bean="schedulerServiceRestartHandler" />
            </list>
        </property>
        <property name="lifecycleServices">
            <list>
                <ref bean="classLoaderService" />
                <ref bean="platformCacheService" />
            </list>
        </property>
        <property name="jobListeners">
            <list>
                <ref bean="loggerJobListener" />
                <ref bean="jdbcJobListener" />
            </list>
        </property>
    </bean>

    <bean id="jobLogCreator" class="org.bonitasoft.engine.scheduler.impl.JobLogCreator">
        <constructor-arg name="jobService" ref="jobService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="jdbcJobListener" class="org.bonitasoft.engine.scheduler.impl.JDBCJobListener">
        <constructor-arg name="schedulerService" ref="scheduler" />
        <constructor-arg name="schedulerExecutor" ref="schedulerExecutor" />
        <constructor-arg name="jobService" ref="jobService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="transactionService" ref="transactionService" />
        <constructor-arg name="incidentService" ref="incidentService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="jobLogCreator" ref="jobLogCreator" />
    </bean>

    <bean id="loggerJobListener" class="org.bonitasoft.engine.scheduler.impl.TechnicalLoggerJobListener">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="schedulerServiceRestartHandler" class="org.bonitasoft.engine.handler.SchedulerServiceRestartHandler">
        <constructor-arg name="schedulerService" ref="scheduler" />
        <constructor-arg name="technicalLoggerService" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformTechnicalLoggerService" class="org.bonitasoft.engine.log.technical.TechnicalLoggerSLF4JImpl" />

    <bean id="lockService" class="org.bonitasoft.engine.lock.impl.MemoryLockService" scope="singleton">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="lockTimeout" value="60" />
        <constructor-arg name="lockPoolSize" value="100" />
    </bean>

    <bean id="incidentService" class="org.bonitasoft.engine.incident.IncidentServiceImpl">
        <constructor-arg name="handlers">
            <list>
                <bean class="org.bonitasoft.engine.incident.FileLoggerIncidentHandler">
                    <constructor-arg name="logFilePath" value="${bonita.home}/server/tenants" />
                </bean>
            </list>
        </constructor-arg>
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="bonitaSequenceManagerDSJNDI" class="org.springframework.jndi.JndiObjectFactoryBean">
        <property name="jndiName" value="${database.sequence.manager.datasource.name}" />
    </bean>

    <bean id="platformDependencyService" class="org.bonitasoft.engine.dependency.impl.PlatformDependencyServiceImpl">
        <constructor-arg name="platformPersistenceService" ref="platformPersistenceService" />
        <constructor-arg name="classLoaderService" ref="classLoaderService" />
    </bean>

    <bean id="parentClassLoaderResolver" class="org.bonitasoft.engine.bpm.classloader.BonitaBPMParentClassLoaderResolver">
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
    </bean>

    <bean id="classLoaderService" class="org.bonitasoft.engine.classloader.ClassLoaderServiceImpl">
        <constructor-arg name="parentClassLoaderResolver" ref="parentClassLoaderResolver" />
        <constructor-arg name="temporaryFolder" value="${bonita.home}/server/platform/tmp" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformCacheService" class="org.bonitasoft.engine.cache.ehcache.PlatformEhCacheCacheService">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="cacheConfigurations" ref="cacheConfigurations" />
        <constructor-arg name="defaultCacheConfiguration" ref="defaultPlatformCacheConfiguration" />
        <constructor-arg name="diskStorePath" value="java.io.tmpdir/platform.cache" />
    </bean>

    <bean id="defaultPlatformCacheConfiguration" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="DEFAULT_PLATFORM" />
        <property name="maxElementsInMemory" value="1000" />
        <property name="inMemoryOnly" value="true" />
        <property name="eternal" value="true" />
    </bean>

    <bean id="cacheConfigurations" class="org.bonitasoft.engine.cache.CacheConfigurations" autowire="byType" />

    <bean id="connectorCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="CONNECTOR" />
        <property name="readIntensive" value="true" />
    </bean>

    <bean id="processDefCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="_PROCESSDEF" />
    </bean>

    <bean id="userFilterCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="USER_FILTER" />
    </bean>

    <bean id="migrationPlanCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="MIGRATION_PLAN_CACHE_NAME" />
    </bean>

    <bean id="breakpointCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="BREAKPOINTS_BY_INSTANCE" />
    </bean>

    <bean id="groovyScriptCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="GROOVY_SCRIPT_CACHE_NAME" />
        <property name="maxElementsInMemory" value="10000" />
        <property name="inMemoryOnly" value="true" />
        <property name="eternal" value="true" />
    </bean>

    <bean id="synchroServiceCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="SYNCHRO_SERVICE_CACHE" />
        <property name="timeToLiveSeconds" value="120" />
        <property name="maxElementsInMemory" value="10000" />
        <property name="inMemoryOnly" value="true" />
    </bean>

    <bean id="transientDataCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="transient_data" />
        <property name="maxElementsInMemory" value="10000" />
        <property name="inMemoryOnly" value="true" />
        <property name="eternal" value="true" />
    </bean>

    <bean id="platformCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="PLATFORM" />
        <property name="maxElementsInMemory" value="100" />
        <property name="inMemoryOnly" value="true" />
        <property name="eternal" value="true" />
    </bean>

    <bean id="parameterCacheConfig" class="org.bonitasoft.engine.cache.CacheConfiguration">
        <property name="name" value="parameters" />
    </bean>

    <bean id="broadcastService" class="org.bonitasoft.engine.service.impl.BroadcastServiceLocal" />

    <bean id="queriableLogSessionProvider" class="org.bonitasoft.engine.services.impl.QueriableLogSessionProviderImpl">
        <constructor-arg name="sessionService" ref="sessionService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="technicalLoggerService" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="platformRecorderSync" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
        <constructor-arg name="persistenceService" ref="platformPersistenceService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="eventService" ref="eventService" />
    </bean>

    <bean id="tenantRecorderSyncForPlatform" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
        <constructor-arg name="persistenceService" ref="persistenceService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="eventService" ref="eventService" />
    </bean>

    <bean id="parserFactory" class="org.bonitasoft.engine.xml.parse.SAXParserFactory">
        <constructor-arg name="validatorFactory" ref="xmlValidatorFactory" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="xmlValidatorFactory" class="org.bonitasoft.engine.xml.SAXValidatorFactory" />

    <bean id="xmlValidator" class="org.bonitasoft.engine.xml.SAXValidator" />

    <bean id="xmlWriter" class="org.bonitasoft.engine.xml.DOMWriter">
        <constructor-arg name="validator" ref="xmlValidator" />
    </bean>


    <bean id="transactionExecutor" class="org.bonitasoft.engine.execution.TransactionExecutorImpl">
        <constructor-arg name="transactionService" ref="transactionService" />
    </bean>

    <bean id="eventService" class="org.bonitasoft.engine.events.impl.EventServiceImpl">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
    </bean>

    <bean id="queriableLoggerStrategy" class="org.bonitasoft.engine.services.impl.SimpleQueriableLoggerStrategy" />

    <bean id="syncQueriableLoggerService" class="org.bonitasoft.engine.services.impl.SyncQueriableLoggerServiceImpl">
        <constructor-arg name="persistenceService" ref="persistenceService" />
        <constructor-arg name="loggerStrategy" ref="queriableLoggerStrategy" />
        <constructor-arg name="sessionProvider" ref="queriableLogSessionProvider" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="platformService" ref="platformService" />
    </bean>

    <bean id="communitySequenceMappings" class="org.springframework.beans.factory.config.MapFactoryBean">
        <property name="targetMapClass">
            <value>java.util.HashMap</value>
        </property>
        <property name="sourceMap">
            <map>
                <!-- platform -->
                <entry key="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" value="0" />
                <entry key="org.bonitasoft.engine.platform.model.impl.STenantImpl" value="1" />
                <entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" value="2" />
                <entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" value="3" />
                <entry key="org.bonitasoft.engine.platform.command.model.impl.SPlatformCommandImpl" value="4" />
                <!--  tenant -->
                <entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" value="10" />
                <entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" value="11" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SUserImpl" value="20" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SRoleImpl" value="21" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SGroupImpl" value="22" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" value="23" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" value="24" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" value="25" />
                <entry key="org.bonitasoft.engine.identity.model.impl.SContactInfoImpl" value="26" />
                <entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogImpl" value="30" />
                <entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogParameterImpl" value="31" />
                <entry key="org.bonitasoft.engine.scheduler.model.impl.SJobDescriptorImpl" value="70" />
                <entry key="org.bonitasoft.engine.scheduler.model.impl.SJobParameterImpl" value="71" />
                <entry key="org.bonitasoft.engine.scheduler.model.impl.SJobLogImpl" value="72" />
                <entry key="org.bonitasoft.engine.command.model.SCommandImpl" value="90" />
                <entry key="org.bonitasoft.engine.theme.model.impl.SThemeImpl" value="9890" />
                <entry key="org.bonitasoft.engine.profile.model.impl.SProfileImpl" value="9990" />
                <entry key="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" value="9991" />
                <entry key="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" value="9992" />
                <entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" value="10000" />
                <entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" value="10001" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" value="10010" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SActivityInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SAutomaticTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SCallActivityInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SSubProcessActivityInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SUserTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SHumanTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SReceiveTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SSendTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SManualTaskInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SLoopActivityInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SMultiInstanceActivityInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SGatewayInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SStartEventInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateCatchEventInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SBoundaryEventInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateThrowEventInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SEndEventInstanceImpl" value="10011" />
                <entry key="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" value="10012" />
                <entry key="org.bonitasoft.engine.core.process.definition.model.impl.SActorImpl" value="10013" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" value="10014" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceWithFailureInfoImpl" value="10014" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.STimerEventTriggerInstanceImpl" value="10015" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowMessageEventTriggerInstanceImpl" value="10015" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowSignalEventTriggerInstanceImpl" value="10015" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowErrorEventTriggerInstanceImpl" value="10015" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingMessageEventImpl" value="10016" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingSignalEventImpl" value="10016" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingErrorEventImpl" value="10016" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SMessageInstanceImpl" value="10017" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.SPendingActivityMappingImpl" value="10018" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SBooleanDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SIntegerDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SDoubleDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SFloatDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SShortTextDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SLongDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SDateDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SLongTextDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SBlobDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLObjectDataInstanceImpl" value="10020" />
                <entry key="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" value="10030" />
                <entry key="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" value="10031" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" value="10040" />
                <entry key="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" value="10050" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.impl.SHumanCommentImpl" value="10060" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.impl.SSystemCommentImpl" value="10060" />
                <entry key="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" value="10070" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.archive.impl.SACommentImpl" value="10080" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" value="10090" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SLightDocumentImpl" value="10090" />
                <entry key="org.bonitasoft.engine.page.impl.SPageWithContentImpl" value="10120" />
                <entry key="org.bonitasoft.engine.page.impl.SPageImpl" value="10120" />
                <entry key="org.bonitasoft.engine.page.impl.SPageContentImpl" value="10120" />
                <entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationImpl" value="10200" />
                <entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl" value="10201" />
                <entry key="org.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl" value="10202" />
                <entry key="org.bonitasoft.engine.core.contract.data.SContractData" value="10210" />
                <entry key="org.bonitasoft.engine.core.form.impl.SFormMappingImpl" value="10300" />
                <!--business data-->
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessMultiRefBusinessDataInstanceImpl" value="10096" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessSimpleRefBusinessDataInstanceImpl" value="10096" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SFlowNodeSimpleRefBusinessDataInstanceImpl" value="10096" />


                <!-- archived objects -->
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAProcessInstanceImpl" value="20010" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAFlowNodeInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAActivityInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAAutomaticTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SACallActivityInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASubProcessActivityInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAUserTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAManualTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAHumanTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAReceiveTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASendTaskInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SALoopActivityInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAMultiInstanceActivityInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAStartEventInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAEndEventInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAGatewayInstanceImpl" value="20011" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SATransitionInstanceImpl" value="20012" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAConnectorInstanceImpl" value="20013" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABooleanDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAIntegerDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADoubleDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAFloatDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAShortTextDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADateDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongTextDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABlobDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLObjectDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.impl.SADocumentMappingImpl" value="20040" />
            </map>
        </property>
    </bean>

    <bean id="sequenceMappings" parent="communitySequenceMappings" class="org.springframework.beans.factory.config.MapFactoryBean">
        <property name="targetMapClass">
            <value>java.util.HashMap</value>
        </property>
        <property name="sourceMap">
            <map merge="true">

            </map>
        </property>
    </bean>

    <bean name="sequenceManager" class="org.bonitasoft.engine.sequence.SequenceManagerImpl">
        <constructor-arg name="lockService" ref="lockService" />
        <constructor-arg name="rangeSizes">
            <map>
                <!-- Most used objects: range size depends on process design -->
                <entry key="70" value="2000" />
                <!-- Job description -->
                <entry key="30" value="10000" />
                <!-- queriable log -->
                <entry key="31" value="200000" />
                <!-- queriable log parameter -->
                <entry key="10010" value="1000" />
                <!-- ProcessInstance -->
                <entry key="10011" value="20000" />
                <!-- ActivityInstance --><!-- 20 step by process average -->
                <entry key="10013" value="20000" />
                <!-- TransitoinInstance --><!-- same as activity instance -->
                <entry key="10014" value="20000" />
                <!-- ConnectorInstance --><!-- same as activity instance -->
                <entry key="20010" value="3000" />
                <!-- archived ProcessInstance --><!-- Process instance * nb state -->
                <entry key="20011" value="80000" />
                <!-- archived ActivityInstance --><!-- Activity instance * average nb state -->
                <entry key="20012" value="40000" />
                <!-- archived TransitionInstance --><!-- transition instance * nb state -->
                <entry key="10015" value="4000" />
                <!-- EventTriggerInstance --><!-- 1/5 of activity -->
                <entry key="10016" value="4000" />
                <!-- WaitingEvent --><!-- 1/5 of activity -->
                <entry key="10017" value="4000" />
                <!-- MessageInstance --><!-- 1/5 of activity -->
                <entry key="10018" value="4000" />
                <!-- PendingActivityMapping --><!-- 1/5 of activity -->
                <entry key="10020" value="5000" />
                <!-- data -->
                <entry key="20050" value="25000" />
                <!-- archived data --><!-- 5 change by data -->
                <entry key="10060" value="20000" />
                <!-- comment -->
                <entry key="10080" value="20000" />
                <!-- SAComment -->

                <!-- less used objects : -->
                <!-- <entry key="10012" value="100" />ProcessDefinition -->
                <!-- <entry key="20" value="100" />user -->
                <!-- <entry key="21" value="100" />group -->
                <!-- <entry key="22" value="100" />role -->
                <!-- <entry key="23" value="100" />user_memebership -->
                <!-- <entry key="24" value="100" />P-metadata_def -->
                <!-- <entry key="25" value="100" />P-metadata_val -->
                <!-- <entry key="26" value="100" />user_contactinfo -->
                <!-- <entry key="60" value="100" />employee -->
                <!-- <entry key="61" value="100" />laptop -->
                <!-- <entry key="62" value="100" />address -->
                <!-- <entry key="63" value="100" />project -->
                <!-- <entry key="64" value="100" />employeeprojectmapping -->
                <!-- <entry key="65" value="100" />saemployee -->
                <!-- <entry key="70" value="100" />jobDescriptor -->
                <!-- <entry key="71" value="100" />jobParameter -->
                <!-- <entry key="90" value="100" />command -->
                <!-- <entry key="4" value="100" />platform command -->
                <!-- <entry key="10000" value="100" />actor -->
                <!-- <entry key="10001" value="100" />actorMapping -->
                <!-- <entry key="10030" value="100" />category -->
                <!-- <entry key="10040" value="100" />SDocumentMapping -->
                <!-- <entry key="10050" value="100" />supervisor -->
                <!-- <entry key="10070" value="100" />ExternalIdentityMapping -->
                <!-- <entry key="10090" value="100" />document_content -->
                <!-- <entry key="10096" value="100" />RefBusinessDataInstance -->
                <!-- <entry key="20040" value="100" />SADocumentMapping -->
            </map>
        </constructor-arg>
        <constructor-arg name="defaultRangeSize" value="100" />
        <constructor-arg name="sequencesMappings" ref="sequenceMappings" />
        <constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <constructor-arg name="retries" value="9" />
        <constructor-arg name="delay" value="10" />
        <constructor-arg name="delayFactor" value="3" />
    </bean>

    <bean id="transactionManager" class="org.springframework.jndi.JndiObjectFactoryBean">
        <property name="jndiName" value="${transaction.manager}" />
    </bean>

    <bean id="transactionService" class="org.bonitasoft.engine.transaction.JTATransactionServiceImpl" scope="singleton">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="txManager" ref="transactionManager" />
    </bean>


    <bean id="hbm-bos-actor-mapping" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/actor/mapping/model/impl/hibernate/actor.hbm.xml</value>
                <value>org/bonitasoft/engine/actor/mapping/model/impl/hibernate/actor.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.actor.mapping.model.SActor" value="actor" />
                <entry key="org.bonitasoft.engine.actor.mapping.model.SActorMember" value="actormember" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-theme-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/theme/model/impl/hibernate/theme.hbm.xml</value>
                <value>org/bonitasoft/engine/theme/model/impl/hibernate/theme.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.theme.model.STheme" value="theme" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-supervisor-mapping" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/supervisor/mapping/model/impl/hibernate/supervisor.hbm.xml</value>
                <value>org/bonitasoft/engine/supervisor/mapping/model/impl/hibernate/supervisor.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.supervisor.mapping.model.SProcessSupervisor" value="processsupervisor" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-scheduler" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/scheduler/impl/hibernate/schedulerimpl.hbm.xml</value>
                <value>org/bonitasoft/engine/scheduler/impl/hibernate/schedulerimpl.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.scheduler.model.SJobDescriptor" value="jd" />
                <entry key="org.bonitasoft.engine.scheduler.model.SJobParameter" value="jp" />
                <entry key="org.bonitasoft.engine.scheduler.model.SJobLog" value="jl" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-profile-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/profile/model/impl/hibernate/profile.hbm.xml</value>
                <value>org/bonitasoft/engine/profile/model/impl/hibernate/profile.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.profile.model.SProfile" value="profile" />
                <entry key="org.bonitasoft.engine.profile.model.SProfileEntry" value="profileentry" />
                <entry key="org.bonitasoft.engine.profile.model.SProfileMember" value="pm" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-process-instance-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.hbm.xml</value>
                <value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.process.instance.model.SProcessInstance" value="p" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SFlowNodeInstance" value="f" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SGatewayInstance" value="g" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstance" value="c" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstanceWithFailureInfo" value="cfi" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SStartEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SBoundaryEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateCatchEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateThrowEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SEndEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SCatchEventInstance" value="e" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.STimerEventTriggerInstance" value="t" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SEventTriggerInstance" value="t" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowMessageEventTriggerInstance" value="t" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowSignalEventTriggerInstance" value="t" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowErrorEventTriggerInstance" value="t" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingEvent" value="s" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingMessageEvent" value="s" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingSignalEvent" value="s" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingErrorEvent" value="s" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageInstance" value="m" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SPendingActivityMapping" value="mapping" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SAutomaticTaskInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SReceiveTaskInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SCallActivityInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SSubProcessActivityInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SHumanTaskInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SLoopActivityInstance" value="la" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SMultiInstanceActivityInstance" value="a" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="a" />
            </map>
        </property>
    </bean>

    <!-- Archived objects -->
    <bean id="hbm-bonita-process-instance-model-arch" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/archived.process.instance.hbm.xml</value>
                <value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/archived.process.instance.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAProcessInstance" value="ap" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAFlowNodeInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAActivityInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAAutomaticTaskInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAReceiveTaskInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASendTaskInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SACallActivityInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASubProcessActivityInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAUserTaskInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAHumanTaskInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SALoopActivityInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAGatewayInstance" value="aa" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SATransitionInstance" value="at" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAConnectorInstance" value="ac" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-process-definition-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/process/definition/model/impl/hibernate/process.definition.hbm.xml</value>
                <value>org/bonitasoft/engine/core/process/definition/model/impl/hibernate/process.definition.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.process.definition.model.SProcessDefinitionDeployInfo" value="process_definition" />
                <entry key="org.bonitasoft.engine.core.process.definition.model.SActor" value="actor" />
                <entry key="org.bonitasoft.engine.actor.mapping.model.SActorMember" value="actormember" />
                <entry key="org.bonitasoft.engine.identity.model.SUser" value="user" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-process-comment-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/process/comment/model/impl/hibernate/comment.hbm.xml</value>
                <value>org/bonitasoft/engine/core/process/comment/model/impl/hibernate/comment.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.process.comment.model.SComment" value="comment" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.SHumanComment" value="comment" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.SSystemComment" value="comment" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-process-comment-model-arch" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/process/comment/model/impl/hibernate/archive.comment.hbm.xml</value>
                <value>org/bonitasoft/engine/core/process/comment/model/impl/hibernate/archive.comment.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.process.comment.model.archive.SAComment" value="saComment" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-platform-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/platform/model/impl/hibernate/platform.hbm.xml</value>
                <value>org/bonitasoft/engine/platform/model/impl/hibernate/platform.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.platform.model.SPlatform" value="platform" />
                <entry key="org.bonitasoft.engine.platform.model.STenant" value="tenant" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-platform-command-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/platform/command/model/impl/hibernate/platformCommand.hbm.xml</value>
                <value>org/bonitasoft/engine/platform/command/model/impl/hibernate/platformCommand.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.platform.command.model.SPlatformCommand" value="platformCommand" />
            </map>
        </property>
    </bean>

    <bean id="extraPlatformHibernateProperties" class="org.bonitasoft.engine.service.impl.MapToPropertiesFactoryBean">
        <property name="map">
            <map>
            </map>
        </property>
    </bean>

    <bean id="extraTenantHibernateProperties" class="org.bonitasoft.engine.service.impl.MapToPropertiesFactoryBean">
        <property name="map">
            <map>
            </map>
        </property>
    </bean>

    <bean id="platformPersistenceService" class="org.bonitasoft.engine.persistence.PlatformHibernatePersistenceService" destroy-method="destroy">
        <constructor-arg name="name" value="platform" />
        <constructor-arg name="hbmConfigurationProvider" ref="hbmConfigurationProvider" />
        <constructor-arg name="extraHibernateProperties" ref="extraPlatformHibernateProperties" />
        <constructor-arg name="likeEscapeCharacter" value="#" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="sequenceManager" ref="sequenceManager" />
        <constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <constructor-arg name="enableWordSearch" value="false" />
        <constructor-arg name="wordSearchExclusionMappings">
            <set>
                <!-- value>org.bonitasoft.engine.identity.model.SUser</value -->
            </set>
        </constructor-arg>
    </bean>

    <bean id="persistenceService" class="org.bonitasoft.engine.persistence.TenantHibernatePersistenceService" destroy-method="destroy">
        <constructor-arg name="name" value="journal" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="hbmConfigurationProvider" ref="hbmConfigurationProvider" />
        <constructor-arg name="extraHibernateProperties" ref="extraTenantHibernateProperties" />
        <constructor-arg name="likeEscapeCharacter" value="#" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="sequenceManager" ref="sequenceManager" />
        <constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <constructor-arg name="enableWordSearch" value="false" />
        <constructor-arg name="wordSearchExclusionMappings">
            <set>
                <!-- value>org.bonitasoft.engine.identity.model.SUser</value -->
            </set>
        </constructor-arg>
    </bean>

    <bean id="hbmConfigurationProviderProperties" parent="communityHbmConfigurationProviderProperties" class="org.bonitasoft.engine.service.impl.MapToPropertiesFactoryBean">
        <property name="map">
            <map merge="true">
            </map>
        </property>
    </bean>

    <bean id="communityHbmConfigurationProviderProperties" class="org.bonitasoft.engine.service.impl.MapToPropertiesFactoryBean">
        <property name="map">
            <map>
                <entry key="hibernate.connection.datasource" value="${database.journal.datasource.name}" />
                <entry key="hibernate.current_session_context_class" value="jta" />
                <entry key="hibernate.transaction.factory_class" value="org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory" />
                <entry key="hibernate.transaction.jta.platform" value="${hibernate.transaction.jta_platform}" />
                <entry key="hibernate.dialect" value="${${db.vendor}.hibernate.journal.dialect}" />
                <entry key="hibernate.interceptor" value="${${db.vendor}.hibernate.journal.interceptor}" />
                <entry key="hibernate.show_sql" value="${hibernate.journal.show_sql}" />
                <entry key="hibernate.format_sql" value="${hibernate.journal.format_sql}" />
                <entry key="hibernate.use_sql_comments" value="${hibernate.journal.use_sql_comments}" />
                <entry key="hibernate.generate_statistics" value="false" />
                <entry key="hibernate.connection.shutdown" value="true" />
                <entry key="hibernate.validator.autoregister_listeners" value="false" />
                <entry key="hibernate.validator.apply_to_ddl" value="false" />
                <entry key="javax.persistence.validation.mode" value="NONE" />
            </map>
        </property>
    </bean>

    <bean id="interfaceToClassMapping" parent="communityInterfaceToClassMapping" class="org.springframework.beans.factory.config.MapFactoryBean">
        <property name="targetMapClass">
            <value>java.util.HashMap</value>
        </property>
        <property name="sourceMap">
            <map merge="true">
            </map>
        </property>
    </bean>

    <bean id="communityInterfaceToClassMapping" class="org.springframework.beans.factory.config.MapFactoryBean">
        <property name="targetMapClass">
            <value>java.util.HashMap</value>
        </property>
        <property name="sourceMap">
            <map>
                <!-- platform -->
                <entry key="org.bonitasoft.engine.platform.model.SPlatform" value="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" />
                <entry key="org.bonitasoft.engine.platform.model.STenant" value="org.bonitasoft.engine.platform.model.impl.STenantImpl" />
                <entry key="org.bonitasoft.engine.platform.command.model.SPlatformCommand" value="org.bonitasoft.engine.platform.command.model.impl.SPlatformCommandImpl" />
                <entry key="org.bonitasoft.engine.dependency.model.SPlatformDependency" value="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" />
                <entry key="org.bonitasoft.engine.dependency.model.SPlatformDependencyMapping" value="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" />
                <!-- services -->
                <entry key="org.bonitasoft.engine.dependency.model.SDependency" value="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" />
                <entry key="org.bonitasoft.engine.dependency.model.SDependencyMapping" value="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SUser" value="org.bonitasoft.engine.identity.model.impl.SUserImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SRole" value="org.bonitasoft.engine.identity.model.impl.SRoleImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SGroup" value="org.bonitasoft.engine.identity.model.impl.SGroupImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SUserMembership" value="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoDefinition" value="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoValue" value="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SContactInfo" value="org.bonitasoft.engine.identity.model.impl.SContactInfoImpl" />
                <entry key="org.bonitasoft.engine.identity.model.SUserLogin" value="org.bonitasoft.engine.identity.model.impl.SUserLoginImpl" />
                <entry key="org.bonitasoft.engine.queriablelogger.model.SQueriableLog" value="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogImpl" />
                <entry key="org.bonitasoft.engine.queriablelogger.model.SQueriableLogParameter" value="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogParameterImpl" />
                <entry key="org.bonitasoft.engine.scheduler.model.SJobDescriptor" value="org.bonitasoft.engine.scheduler.model.impl.SJobDescriptorImpl" />
                <entry key="org.bonitasoft.engine.scheduler.model.SJobParameter" value="org.bonitasoft.engine.scheduler.model.impl.SJobParameterImpl" />
                <entry key="org.bonitasoft.engine.scheduler.model.SJobLog" value="org.bonitasoft.engine.scheduler.model.impl.SJobLogImpl" />
                <entry key="org.bonitasoft.engine.command.model.SCommand" value="org.bonitasoft.engine.command.model.SCommandImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SBooleanDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SBooleanDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SIntegerDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SIntegerDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SDoubleDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDoubleDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SFloatDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SFloatDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SShortTextDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SShortTextDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SLongDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SLongDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SDateDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDateDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SLongTextDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SLongTextDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SXMLDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SXMLDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SBlobDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SBlobDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.SXMLObjectDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SXMLObjectDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.profile.model.SProfile" value="org.bonitasoft.engine.profile.model.impl.SProfileImpl" />
                <entry key="org.bonitasoft.engine.profile.model.SProfileEntry" value="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" />
                <entry key="org.bonitasoft.engine.profile.model.SProfileMember" value="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" />
                <entry key="org.bonitasoft.engine.theme.model.STheme" value="org.bonitasoft.engine.theme.model.impl.SThemeImpl" />

                <entry key="org.bonitasoft.engine.data.instance.model.archive.SABooleanDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SABooleanDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SAIntegerDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAIntegerDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SADoubleDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADoubleDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SAFloatDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAFloatDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SAShortTextDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAShortTextDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SALongDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SALongDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SADateDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADateDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SALongTextDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SALongTextDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SAXMLDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SABlobDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SABlobDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SAXMLObjectDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLObjectDataInstanceImpl" />

                <entry key="org.bonitasoft.engine.data.instance.model.archive.SADataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADataInstanceImpl" />

                <!-- bpm -->
                <entry key="org.bonitasoft.engine.actor.mapping.model.SActor" value="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" />
                <entry key="org.bonitasoft.engine.actor.mapping.model.SActorMember" value="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SProcessInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SFlowNodeInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SFlowNodeInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SAutomaticTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SAutomaticTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SReceiveTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SReceiveTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SSendTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SSendTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SCallActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SCallActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SSubProcessActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SSubProcessActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SUserTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SHumanTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SHumanTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SManualTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SManualTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SLoopActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SLoopActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SMultiInstanceActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SMultiInstanceActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SGatewayInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SGatewayInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SCatchEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SCatchEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SStartEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SStartEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateCatchEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateCatchEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SBoundaryEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SBoundaryEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateThrowEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateThrowEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.SEndEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SEndEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.definition.model.SProcessDefinitionDeployInfo" value="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstanceWithFailureInfo" value="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceWithFailureInfoImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SEventTriggerInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.STimerEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.STimerEventTriggerInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowMessageEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowMessageEventTriggerInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowSignalEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowSignalEventTriggerInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowErrorEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowErrorEventTriggerInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingEventImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingMessageEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingMessageEventImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingSignalEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingSignalEventImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingErrorEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingErrorEventImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageInstance" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SMessageInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SPendingActivityMapping" value="org.bonitasoft.engine.core.process.instance.model.impl.SPendingActivityMappingImpl" />

                <!--business data-->
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SRefBusinessDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SSimpleRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SSimpleRefBusinessDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SMultiRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SMultiRefBusinessDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SProcessSimpleRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessSimpleRefBusinessDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SFlowNodeSimpleRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SFlowNodeSimpleRefBusinessDataInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SProcessMultiRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SProcessMultiRefBusinessDataInstanceImpl" />

                <entry key="org.bonitasoft.engine.core.category.model.SCategory" value="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" />
                <entry key="org.bonitasoft.engine.core.category.model.SProcessCategoryMapping" value="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocumentMapping" value="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocument" value="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SMappedDocument" value="org.bonitasoft.engine.core.document.model.impl.SMappedDocumentImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SLightDocument" value="org.bonitasoft.engine.core.document.model.impl.SLightDocumentImpl" />
                <entry key="org.bonitasoft.engine.supervisor.mapping.model.SProcessSupervisor" value="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" />

                <entry key="org.bonitasoft.engine.core.process.comment.model.SComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SCommentImpl" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.SHumanComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SHumanCommentImpl" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.SSystemComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SSystemCommentImpl" />
                <entry key="org.bonitasoft.engine.external.identity.mapping.model.SExternalIdentityMapping" value="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" />
                <entry key="org.bonitasoft.engine.core.process.comment.model.archive.SAComment" value="org.bonitasoft.engine.core.process.comment.model.archive.impl.SACommentImpl" />
                <entry key="org.bonitasoft.engine.page.SPage" value="org.bonitasoft.engine.page.impl.SPageImpl" />
                <entry key="org.bonitasoft.engine.page.SPageContent" value="org.bonitasoft.engine.page.impl.SPageContentImpl" />
                <entry key="org.bonitasoft.engine.page.SPageWithContent" value="org.bonitasoft.engine.page.impl.SPageWithContentImpl" />
                <entry key="org.bonitasoft.engine.business.application.model.SApplication" value="org.bonitasoft.engine.business.application.model.impl.SApplicationImpl" />
                <entry key="org.bonitasoft.engine.business.application.model.SApplicationPage" value="org.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl" />
                <entry key="org.bonitasoft.engine.business.application.model.SApplicationMenu" value="org.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl" />
                <entry key="org.bonitasoft.engine.core.form.SFormMapping" value="org.bonitasoft.engine.core.form.impl.SFormMappingImpl" />
                <entry key="org.bonitasoft.engine.core.contract.data.SContractData" value="org.bonitasoft.engine.core.contract.data.SContractData" />
                <!-- archived objects -->
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAProcessInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAProcessInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAFlowNodeInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAFlowNodeInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAAutomaticTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAAutomaticTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAReceiveTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAReceiveTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASendTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASendTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SACallActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SACallActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASubProcessActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASubProcessActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAUserTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAUserTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAManualTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAManualTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAHumanTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAHumanTaskInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SALoopActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SALoopActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAMultiInstanceActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAMultiInstanceActivityInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.SAStartEventInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAStartEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.SAEndEventInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAEndEventInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAGatewayInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAGatewayInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SATransitionInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SATransitionInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAConnectorInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAConnectorInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SADocumentMapping" value="org.bonitasoft.engine.core.document.model.archive.impl.SADocumentMappingImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SAMappedDocument" value="org.bonitasoft.engine.core.document.model.archive.impl.SAMappedDocumentImpl" />
            </map>
        </property>
    </bean>

    <bean id="mappingExclusions" class="org.springframework.beans.factory.config.ListFactoryBean">
        <property name="sourceList">
            <list>
                <value>org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageEventCouple</value>
            </list>
        </property>
    </bean>
    <bean id="hbmConfigurationProvider" class="org.bonitasoft.engine.persistence.HibernateConfigurationProviderImpl">
        <constructor-arg name="properties" ref="hbmConfigurationProviderProperties" />
        <constructor-arg name="interfaceToClassMapping" ref="interfaceToClassMapping" />
        <constructor-arg name="mappingExclusions" ref="mappingExclusions" />
        <constructor-arg ref="hbmResourcesConfigurationProvider" />
    </bean>

    <bean id="communityHbmResources" class="org.springframework.beans.factory.config.ListFactoryBean">
        <property name="sourceList">
            <list>
                <ref bean="hbm-bonita-dependency-model" />
                <ref bean="hbm-bonita-dependency-platform-model" />
                <ref bean="hbm-bonita-document-model" />
                <ref bean="hbm-bonita-identity-model" />
                <ref bean="hbm-bonita-log-model" />
                <ref bean="hbm-bonita-platform-model" />
                <ref bean="hbm-bonita-process-definition-model" />
                <ref bean="hbm-bonita-process-instance-model" />
                <ref bean="hbm-bonita-process-instance-model-arch" />
                <ref bean="hbm-bonita-scheduler" />
                <ref bean="hbm-bos-actor-mapping" />
                <ref bean="hbm-bos-category-model" />
                <ref bean="hbm-bos-command-model" />
                <ref bean="hbm-bos-data-instance-model" />
                <ref bean="hbm-bos-data-instance-model-arch" />
                <ref bean="hbm-bos-external-identity-mapping" />
                <ref bean="hbm-bos-platform-command-model" />
                <ref bean="hbm-bos-process-comment-model" />
                <ref bean="hbm-bos-process-comment-model-arch" />
                <ref bean="hbm-bos-profile-model" />
                <ref bean="hbm-bos-theme-model" />
                <ref bean="hbm-bos-supervisor-mapping" />
                <ref bean="hbm-bos-page-model" />
                <ref bean="hbm-bos-application-model" />
                <ref bean="hbm-bos-form-mapping-model" />
                <ref bean="hbm-bos-contract-data-model" />
            </list>
        </property>
    </bean>
    <bean id="hbmResources" parent="communityHbmResources" class="org.springframework.beans.factory.config.ListFactoryBean">
        <property name="sourceList">
            <list merge="true">

            </list>
        </property>
    </bean>

    <bean id="hbmResourcesConfigurationProvider" class="org.bonitasoft.engine.persistence.HibernateResourcesConfigurationProviderImpl">
        <property name="hbmResources" ref="hbmResources" />
    </bean>

    <bean id="hbm-bos-page-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/page/impl/hibernate/page.hbm.xml</value>
                <value>org/bonitasoft/engine/page/impl/hibernate/page.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.page.SPage" value="page" />
                <entry key="org.bonitasoft.engine.page.SPageContent" value="pagecontent" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-log-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/queriablelogger/model/impl/hibernate/queriablelogger.hbm.xml</value>
                <value>org/bonitasoft/engine/queriablelogger/model/impl/hibernate/queriablelogger.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.queriablelogger.model.SQueriableLog" value="log" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-identity-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/identity/model/impl/hibernate/identity.hbm.xml</value>
                <value>org/bonitasoft/engine/identity/model/impl/hibernate/identity.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.identity.model.SUser" value="user" />
                <entry key="org.bonitasoft.engine.identity.model.SRole" value="role" />
                <entry key="org.bonitasoft.engine.identity.model.SGroup" value="group_" />
                <entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoDefinition" value="custom_usr_inf_def" />
                <entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoValue" value="custom_usr_inf_val" />
                <entry key="org.bonitasoft.engine.identity.model.SUserMembership" value="user_membership" />
                <entry key="org.bonitasoft.engine.identity.model.SContactInfo" value="contactinfo" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-external-identity-mapping" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/external/identity/mapping/model/impl/hibernate/external.identity.mapping.hbm.xml</value>
                <value>org/bonitasoft/engine/external/identity/mapping/model/impl/hibernate/external.identity.mapping.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.external.identity.mapping.model.SExternalIdentityMapping" value="ext_ident_mapping" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-document-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/document/model/impl/hibernate/document.hbm.xml</value>
                <value>org/bonitasoft/engine/core/document/model/impl/hibernate/document.queries.hbm.xml</value>
                <value>org/bonitasoft/engine/core/document/model/impl/hibernate/archive.document.hbm.xml</value>
                <value>org/bonitasoft/engine/core/document/model/impl/hibernate/archive.document.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.document.model.SDocument" value="doc" />
                <entry key="org.bonitasoft.engine.core.document.model.SLightDocument" value="doc" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocumentMapping" value="docmapping" />
                <entry key="org.bonitasoft.engine.core.document.model.SMappedDocument" value="mappeddoc" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SADocumentMapping" value="docmapping" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SAMappedDocument" value="mappeddoc" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-dependency-platform-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/dependency/model/impl/hibernate/platform-dependency.hbm.xml</value>
                <value>org/bonitasoft/engine/dependency/model/impl/hibernate/platform-dependency.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.dependency.model.SPlatformDependency" value="pdependency" />
                <entry key="org.bonitasoft.engine.dependency.model.SPlatformDependencyMapping" value="pdependencymapping" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bonita-dependency-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/dependency/model/impl/hibernate/dependency.hbm.xml</value>
                <value>org/bonitasoft/engine/dependency/model/impl/hibernate/dependency.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.dependency.model.SDependency" value="dependency" />
                <entry key="org.bonitasoft.engine.dependency.model.SDependencyMapping" value="dependencymapping" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-data-instance-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/data/instance/model/impl/hibernate/data.instance.hbm.xml</value>
                <value>org/bonitasoft/engine/data/instance/model/impl/hibernate/data.instance.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.data.instance.model.SDataInstance" value="dataInstance" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-data-instance-model-arch" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/data/instance/model/impl/hibernate/archived.data.instance.hbm.xml</value>
                <value>org/bonitasoft/engine/data/instance/model/impl/hibernate/archived.data.instance.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.data.instance.model.archive.SADataInstance" value="saDataInstance" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-command-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/command/model/impl/hibernate/command.hbm.xml</value>
                <value>org/bonitasoft/engine/command/model/impl/hibernate/command.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.command.model.SCommand" value="command" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-category-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/category/model/impl/hibernate/category.hbm.xml</value>
                <value>org/bonitasoft/engine/core/category/model/impl/hibernate/category.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.category.model.SCategory" value="category" />
                <entry key="org.bonitasoft.engine.core.category.model.SProcessCategoryMapping" value="categorymapping" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-application-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/business/application/impl/hibernate/application.hbm.xml</value>
                <value>org/bonitasoft/engine/business/application/impl/hibernate/application.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.business.application.model.SApplication" value="application" />
                <entry key="org.bonitasoft.engine.business.application.model.SApplicationPage" value="applicationPage" />
                <entry key="org.bonitasoft.engine.business.application.model.SApplicationMenu" value="applicationMenu" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-form-mapping-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/form/impl/form-mapping.hbm.xml</value>
                <value>org/bonitasoft/engine/core/form/impl/form-mapping.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.form.SFormMapping" value="formmap" />
            </map>
        </property>
    </bean>

    <bean id="hbm-bos-contract-data-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
        <property name="resources">
            <set>
                <value>org/bonitasoft/engine/core/contract/data/model/impl/hibernate/contract.hbm.xml</value>
                <value>org/bonitasoft/engine/core/contract/data/model/impl/hibernate/contract.queries.hbm.xml</value>
            </set>
        </property>
        <property name="classAliasMappings">
            <map>
                <entry key="org.bonitasoft.engine.core.contract.data.SContractData" value="cd" />
            </map>
        </property>
    </bean>
</beans>
