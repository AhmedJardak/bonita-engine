<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN" "http://www.hibernate.org/dtd/hibernate-mapping-3.0.dtd">
<hibernate-mapping auto-import="false">

    <query name="getApplicationById">
        SELECT application
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationImpl AS application
        WHERE id = :id
    </query>

    <query name="getApplicationByToken">
        SELECT application
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationImpl AS application
        WHERE token = :token
    </query>

    <query name="getNumberOfSApplication">
        SELECT count(application)
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationImpl AS application
    </query>

    <query name="searchSApplication">
        SELECT application
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationImpl AS application
    </query>
    
    <query name="getApplicationPageById">
        SELECT applicationPage
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage
        WHERE id = :id
    </query>

    <query name="getApplicationPageByTokenAndApplicationToken">
        SELECT applicationPage
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage, com.bonitasoft.engine.business.application.model.impl.SApplicationImpl as application
        WHERE applicationPage.applicationId = application.id
        AND applicationPage.token = :applicationPageToken
        AND application.token = :applicationToken
    </query>

    <query name="getApplicationPageByTokenAndApplicationId">
        SELECT applicationPage
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage
        WHERE applicationPage.applicationId = :applicationId
        AND applicationPage.token = :applicationPageToken
    </query>

    <query name="getApplicationHomePage">
        SELECT applicationPage
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage, com.bonitasoft.engine.business.application.model.impl.SApplicationImpl as application
        WHERE applicationPage.id = application.homePageId 
        AND applicationPage.applicationId = application.id
        AND application.id = :applicationId
    </query>
    
    <query name="getNumberOfSApplicationPage">
        SELECT count(applicationPage)
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage
    </query>
    
    <query name="searchSApplicationPage">
        SELECT applicationPage
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationPageImpl as applicationPage
    </query>
    
    <query name="getApplicationMenuById">
        SELECT applicationMenu
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl as applicationMenu
        WHERE id = :id
    </query>
    
    <query name="getNumberOfSApplicationMenu">
        SELECT count(applicationMenu)
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl as applicationMenu
    </query>

    <query name="searchSApplicationMenu">
        SELECT applicationMenu
        FROM com.bonitasoft.engine.business.application.model.impl.SApplicationMenuImpl as applicationMenu
    </query>

</hibernate-mapping>
