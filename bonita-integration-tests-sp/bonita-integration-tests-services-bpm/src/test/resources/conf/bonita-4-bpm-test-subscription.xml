<beans xmlns="http://www.springframework.org/schema/beans" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	   xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd">

	<bean id="archivingStrategy" class="com.bonitasoft.engine.archive.impl.ListArchivingStrategy">
		<constructor-arg name="archives">
			<map>
                <entry key="org.bonitasoft.engine.core.process.comment.model.SComment" value="true" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocument" value="true" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.SProcessInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SAutomaticTaskInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SManualTaskInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SLoopActivityInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SMultiInstanceActivityInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SCallActivityInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SGatewayInstance" value="true" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SSubProcessActivityInstance" value="true" />
        		<entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstance" value="true" />
        		<entry key="org.bonitasoft.engine.core.process.instance.model.SSendTaskInstance" value="true" />
        		<entry key="org.bonitasoft.engine.core.process.instance.model.SReceiveTaskInstance" value="true" />
        		<entry key="org.bonitasoft.engine.data.instance.model.SDataInstance" value="true" />
        		<entry key="org.bonitasoft.engine.data.instance.model.SDataInstanceVisibilityMapping" value="true" />
        		<!-- archived version because there is no not archived one -->
        		<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SATransitionInstance" value="true" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="archiveService" class="org.bonitasoft.engine.archive.impl.ArchiveServiceImpl">
		<constructor-arg name="definitiveArchivePersistenceService" ref="persistenceService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="archivingStrategy" ref="archivingStrategy" />
		<constructor-arg ref="transactionService" />
	</bean>


	<bean id="businessDataRepository" class="org.bonitasoft.engine.business.data.impl.JPABusinessDataRepositoryImpl">
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="businessDataModelRepository" ref="businessDataModelRepository" />
		<constructor-arg>
			<map>
				<entry key="hibernate.dialect" value="org.hibernate.dialect.H2Dialect" />
				<entry key="hibernate.connection.datasource" value="java:comp/env/BusinessDataDS" />
				<entry key="hibernate.show_sql" value="false" />
				<entry key="hibernate.format_sql" value="false" />
				<entry key="hibernate.transaction.jta.platform" value="org.bonitasoft.engine.persistence.JNDIBitronixJtaPlatform" />
				<entry key="hibernate.validator.autoregister_listeners" value="false" />
				<entry key="hibernate.validator.apply_to_ddl" value="false" />
				<entry key="javax.persistence.validation.mode" value="NONE" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="businessDataModelRepository" class="org.bonitasoft.engine.business.data.impl.BusinessDataModelRepositoryImpl">
		<constructor-arg name="dependencyService" ref="dependencyService" />
		<constructor-arg name="schemaManager" ref="schemaManager" />
		<constructor-arg name="compilationPath">
			<value>${bonita.home}/server/platform/data-management/compilation-dependencies
			</value>
		</constructor-arg>
		<constructor-arg name="clientStoragePath">
			<value>${bonita.home}/server/platform/data-management/client
			</value>
		</constructor-arg>
	</bean>

	<bean id="schemaManager" class="org.bonitasoft.engine.business.data.impl.SchemaManager">
		<constructor-arg name="loggerService" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="configuration">
			<map>
				<entry key="hibernate.dialect" value="org.hibernate.dialect.H2Dialect" />
				<entry key="hibernate.connection.datasource" value="java:comp/env/NotManagedBizDataDS" />
				<entry key="hibernate.show_sql" value="true" />
				<entry key="hibernate.format_sql" value="true" />
				<entry key="hibernate.transaction.jta.platform" value="org.bonitasoft.engine.persistence.JNDIBitronixJtaPlatform" />
				<entry key="hibernate.validator.autoregister_listeners" value="false" />
				<entry key="hibernate.validator.apply_to_ddl" value="false" />
				<entry key="javax.persistence.validation.mode" value="NONE" />
			</map>
		</constructor-arg>
	</bean>
    
    <bean id="jsonBusinessDataSerializer" class="org.bonitasoft.engine.business.data.impl.JsonBusinessDataSerializerImpl"/>

    <bean id="typeConverterUtil" class="org.bonitasoft.engine.commons.TypeConverterUtil">
        <constructor-arg name="datePatterns" type="java.lang.String[]">
            <list>
                <value>yyyy-MM-dd</value>
                <value>HH:mm:ss</value>
                <value>yyyy-MM-dd HH:mm:ss</value>
                <value>yyyy-MM-dd'T'HH:mm:ss</value>
                <value>yyyy-MM-dd'T'HH:mm:ss.SSS</value>
            </list>
        </constructor-arg>
    </bean>

    <bean id="businessDataService" class="org.bonitasoft.engine.business.data.impl.BusinessDataServiceImpl">
        <constructor-arg name="businessDataRepository" ref="businessDataRepository" />
        <constructor-arg name="jsonBusinessDataSerializer" ref="jsonBusinessDataSerializer" />
		<constructor-arg name="businessDataModelRepository" ref="businessDataModelRepository" />
        <constructor-arg name="typeConverterUtil" ref="typeConverterUtil" />
    </bean>

	<bean id="connectorExecutor" class="com.bonitasoft.engine.connector.impl.ConnectorExecutorTimedOut">
		<constructor-arg name="queueCapacity" value="25" />
		<constructor-arg name="corePoolSize" value="25" />
		<constructor-arg name="loggerService" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="timeout" value="10000" />
		<constructor-arg name="maximumPoolSize" value="25" />
		<constructor-arg name="keepAliveTimeSeconds" value="100" />
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="sessionService" ref="sessionService" />
        <constructor-arg name="timeTracker" ref="timeTracker" />
	</bean>


	<bean id="expressionResolverService" class="org.bonitasoft.engine.core.expression.control.api.impl.ExpressionResolverServiceImpl">
		<constructor-arg name="expressionService" ref="expressionService" />
		<constructor-arg name="processDefinitionService" ref="processDefinitionManager" />
		<constructor-arg name="classLoaderService" ref="classLoaderService" />
        <constructor-arg name="timeTracker" ref="timeTracker" />
	</bean>


	<bean id="hbm-bonita-instance-migration-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
		<property name="resources">
			<set>
				<value>org/bonitasoft/engine/core/migration/impl/hibernate/migration_plan.hbm.xml</value>
				<value>org/bonitasoft/engine/core/migration/impl/hibernate/migration_plan.queries.hbm.xml</value>
			</set>
		</property>
		<property name="classAliasMappings">
			<map>
				<entry key="org.bonitasoft.engine.core.migration.model.SMigrationPlanDescriptor" value="mp" />
			</map>
		</property>
	</bean>


	<bean id="queriableLoggerStrategy" class="com.bonitasoft.engine.log.api.impl.MapQueriableLoggerStrategy" >
        <constructor-arg name="loggableLevels">
        	<map>
        		<entry key="ACTOR_CREATED:INTERNAL" value="true" />
        		<entry key="ACTOR_DELETED:INTERNAL" value="true" />
        		<entry key="ACTOR_UPDATED:INTERNAL" value="true" />
        		<entry key="BREAKPOINT_CREATED:INTERNAL" value="true" />
        		<entry key="BREAKPOINT_DELETED:INTERNAL" value="true" />
        		<entry key="CATEGORY_CREATED:INTERNAL" value="true" />
        		<entry key="CATEGORY_DELETED:INTERNAL" value="true" />
        		<entry key="CATEGORY_UPDATED:INTERNAL" value="true" />
        		<entry key="COMMAND_CREATED:INTERNAL" value="true" />
        		<entry key="COMMAND_DELETED:INTERNAL" value="true" />
        		<entry key="COMMAND_UPDATED:INTERNAL" value="true" />
        		<entry key="COMMENT_CREATED:INTERNAL" value="true" />
        		<entry key="COMMENT_DELETED:INTERNAL" value="true" />
        		<entry key="CONNECTOR_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="CONNECTOR_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="CONNECTOR_INSTANCE_DELETED:INTERNAL" value="true" />
        		<entry key="DATA_SOURCE_CREATED:INTERNAL" value="true" />
        		<entry key="DATA_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="DATA_INSTANCE_DELETED:INTERNAL" value="true" />
        		<entry key="DATA_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="DEPENDENCY_CREATED:INTERNAL" value="true" />
        		<entry key="DEPENDENCY_DELETED:INTERNAL" value="true" />
        		<entry key="DEPENDENCY_UPDATED:INTERNAL" value="true" />
        		<entry key="DEPENDENCY_MAPPING_CREATED:INTERNAL" value="true" />
        		<entry key="DEPENDENCY_MAPPING_DELETED:INTERNAL" value="true" />
        		<entry key="DOCUMENTMAPPING_CREATED:INTERNAL" value="true" />
        		<entry key="DOCUMENTMAPPING_DELETED:INTERNAL" value="true" />
        		<entry key="DOCUMENTMAPPING_UPDATED:INTERNAL" value="true" />
        		<entry key="EVENT_INSTANCE_TRIGGER_CREATED:INTERNAL" value="true" />
        		<entry key="EVENT_INSTANCE_TRIGGER_DELETED:INTERNAL" value="true" />
        		<entry key="EVENT_INSTANCE_TRIGGER_UPDATED:INTERNAL" value="true" />
        		<entry key="EXTERNAL_IDENTITY_MAPPING_CREATED:INTERNAL" value="true" />
        		<entry key="EXTERNAL_IDENTITY_MAPPING_DELETED:INTERNAL" value="true" />
        		<entry key="FLOW_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="FLOW_INSTANCE_DELETED:INTERNAL" value="true" />
        		<entry key="FLOW_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="GATEWAY_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="GATEWAY_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_GROUP_CREATED:INTERNAL" value="false" />
        		<entry key="IDENTITY_GROUP_DELETED:INTERNAL" value="false" />
        		<entry key="IDENTITY_GROUP_UPDATED:INTERNAL" value="false" />
        		<entry key="IDENTITY_ROLE_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_ROLE_DELETED:INTERNAL" value="true" />
        		<entry key="IDENTITY_ROLE_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_DELETED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_CONTACT_INFO_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_CONTACT_INFO_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_MEMBERSHIP_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_MEMBERSHIP_DELETED:INTERNAL" value="true" />
        		<entry key="IDENTITY_USER_MEMBERSHIP_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_DELETED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_DEFINITION_UPDATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_CREATED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_DELETED:INTERNAL" value="true" />
        		<entry key="IDENTITY_CUSTOM_USER_INFO_VALUE_UPDATED:INTERNAL" value="true" />
        		<entry key="JOB_CREATED:INTERNAL" value="false" />
        		<entry key="JOB_PARAMETER_CREATED:INTERNAL" value="true" />
        		<entry key="MESSAGE_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="MESSAGE_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="MIGRATION_PLAN_MAPPING_CREATED:INTERNAL" value="true" />
        		<entry key="MIGRATION_PLAN_MAPPING_DELETED:INTERNAL" value="true" />
        		<entry key="PAGE_CREATED:INTERNAL" value="true" />
        		<entry key="PAGE_DELETED:INTERNAL" value="true" />
        		<entry key="PAGE_UPDATED:INTERNAL" value="true" />
        		<entry key="PENDING_ACTIVITY_MAPPING_CREATED:INTERNAL" value="true" />
        		<entry key="PROCESS_DEFINITION_CREATED:INTERNAL" value="true" />
        		<entry key="PROCESS_DEFINITION_DELETED:INTERNAL" value="true" />
        		<entry key="PROCESS_DEFINITION_UPDATED:INTERNAL" value="true" />
        		<entry key="PROCESS_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="PROCESS_INSTANCE_DELETED:INTERNAL" value="true" />
        		<entry key="PROCESS_INSTANCE_UPDATED:INTERNAL" value="true" />
        		<entry key="PROFILE_CREATED:INTERNAL" value="true" />
        		<entry key="PROFILE_DELETED:INTERNAL" value="true" />
        		<entry key="PROFILE_UPDATED:INTERNAL" value="true" />
        		<entry key="PROFILE_MEMBER_CREATED:INTERNAL" value="true" />
        		<entry key="PROFILE_MEMBER_DELETED:INTERNAL" value="true" />
        		<entry key="PROFILE_MEMBER_UPDATED:INTERNAL" value="true" />
        		<entry key="PROFILE_ENTRY_CREATED:INTERNAL" value="true" />
        		<entry key="PROFILE_ENTRY_DELETED:INTERNAL" value="true" />
        		<entry key="PROFILE_ENTRY_UPDATED:INTERNAL" value="true" />
        		<entry key="SCHEDULER_SCHEDULED:INTERNAL" value="false" />
        		<entry key="SUPERVISOR_CREATED:INTERNAL" value="true" />
        		<entry key="SUPERVISOR_DELETED:INTERNAL" value="true" />
        		<entry key="THEME_CREATED:INTERNAL" value="true" />
        		<entry key="THEME_DELETED:INTERNAL" value="true" />
        		<entry key="THEME_UPDATED:INTERNAL" value="true" />
        		<entry key="TRANSITION_INSTANCE_CREATED:INTERNAL" value="true" />
        		<entry key="TRANSITION_INSTANCE_DELETED:INTERNAL" value="true" />
        	</map>
        </constructor-arg>
    </bean>

    <bean id="syncQueriableLoggerService" class="org.bonitasoft.engine.services.impl.SyncQueriableLoggerServiceImpl">
        <constructor-arg name="persistenceService" ref="persistenceService" />
        <constructor-arg name="loggerStrategy" ref="queriableLoggerStrategy" />
        <constructor-arg name="sessionProvider" ref="queriableLogSessionProvider" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="platformService" ref="platformService" />
    </bean>


	<bean id="monitoringService" class="com.bonitasoft.engine.monitoring.impl.TenantMonitoringServiceImpl" scope="prototype">
		<constructor-arg name="allowMbeansRegistration" value="true" />
		<constructor-arg name="identityService" ref="identityService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="sessionService" ref="sessionService" />
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="jobHandler" ref="jobHandlerService" />
		<constructor-arg name="technicalLog" ref="tenantTechnicalLoggerService" />
	</bean>

	<bean id="jobHandlerService" class="com.bonitasoft.engine.monitoring.impl.SJobHandlerImpl" scope="prototype"/>

	<bean id="jvmMXBean" class="com.bonitasoft.engine.monitoring.mbean.impl.SJvmMXBeanImpl"/>

	<bean id="platformMonitoringService" class="com.bonitasoft.engine.monitoring.impl.PlatformMonitoringServiceImpl">
		<constructor-arg name="allowMbeansRegistration" value="true" />
		<constructor-arg name="jvmMBean" ref="jvmMXBean" />
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="schedulerService" ref="scheduler" />
		<constructor-arg name="technicalLog" ref="platformTechnicalLoggerService" />
	</bean>



    <bean id="operationService" class="org.bonitasoft.engine.core.operation.impl.OperationServiceImpl">
        <constructor-arg name="operationExecutorStrategyProvider" ref="operationExecutorStrategyProvider"/>
        <constructor-arg name="leftOperandHandlerProvider" ref="leftOperandHandlerProvider"/>
        <constructor-arg name="expressionResolverService" ref="expressionResolverService"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
    </bean>

    <bean id="operationExecutorStrategyProvider"
          class="org.bonitasoft.engine.core.operation.OperationExecutorStrategyProvider" autowire="constructor"/>

    <bean id="leftOperandHandlerProvider" class="org.bonitasoft.engine.core.operation.LeftOperandHandlerProvider">
        <property name="leftOperandHandlers">
            <list>
                <ref bean="dataLeftOperandHandler"/>
                <ref bean="externalDataLeftOperandHandler"/>
                <ref bean="documentLeftOperandHandler"/>
                <ref bean="documentListLeftOperandHandler"/>
                <ref bean="stringIndexLeftOperandHandler"/>
            </list>
        </property>
    </bean>

    <bean id="assignmentOperationExecutorStrategy"
          class="org.bonitasoft.engine.core.operation.impl.AssignmentOperationExecutorStrategy"/>

    <bean id="dataLeftOperandHandler" class="org.bonitasoft.engine.operation.DataLeftOperandHandler">
        <constructor-arg name="dataInstanceService" ref="dataInstanceService"/>
        <constructor-arg name="parentContainerResolver" ref="parentContainerResolver"/>
    </bean>

    <bean id="externalDataLeftOperandHandler"
          class="org.bonitasoft.engine.core.operation.impl.ExternalDataLeftOperandHandler"/>

     <bean id="javaMethodOperationExecutorStrategy"
          class="org.bonitasoft.engine.operation.BusinessDataJavaMethodOperationExecutorStrategy">
        <constructor-arg name="businessDataService" ref="businessDataService"/>
    </bean>      

    <bean id="xpathUpdateQueryOperationExecutorStrategy"
          class="org.bonitasoft.engine.core.operation.impl.XpathUpdateQueryOperationExecutorStrategy"/>

    <bean id="documentLeftOperandHandler" class="org.bonitasoft.engine.operation.DocumentLeftOperandHandler">
        <constructor-arg name="documentService" ref="documentService"/>
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="sessionAccessor" ref="sessionAccessor"/>
        <constructor-arg name="sessionService" ref="sessionService"/>
    </bean>

    <bean id="documentListLeftOperandHandler" class="org.bonitasoft.engine.operation.DocumentListLeftOperandHandler">
        <constructor-arg name="documentService" ref="documentService"/>
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="sessionAccessor" ref="sessionAccessor"/>
        <constructor-arg name="sessionService" ref="sessionService"/>
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager"/>
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
    </bean>

    <bean id="stringIndexLeftOperandHandler" class="com.bonitasoft.engine.operation.StringIndexLeftOperandHandler">
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
    </bean>


	<bean id="parameterService" class="org.bonitasoft.engine.parameter.propertyfile.PropertyFileParameterService">
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="cacheService" ref="platformCacheService" />
	</bean>
	
	<bean id="parameterExpressionExecutorStrategy" class="org.bonitasoft.engine.expression.ParameterExpressionExecutorStrategy">
		<constructor-arg name="parameterService" ref="parameterService" />
	</bean>


	<bean id="platformPersistenceService" class="org.bonitasoft.engine.persistence.PlatformHibernatePersistenceService" depends-on="dbProperties">
		<constructor-arg name="name" value="platform" />
		<constructor-arg ref="journalConfigurationProvider" />
        <constructor-arg name="extraHibernateProperties"><null /></constructor-arg>
		<constructor-arg name="likeEscapeCharacter" value="#" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="sequenceManager" ref="sequenceManager" />
		<constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <constructor-arg name="enableWordSearch" value="false" />
        <constructor-arg name="wordSearchExclusionMappings">
            <set>
                <!-- value>org.bonitasoft.engine.identity.model.SUser</value -->
            </set>
        </constructor-arg>
	</bean>

	<bean id="persistenceService" class="org.bonitasoft.engine.persistence.TenantHibernatePersistenceService" depends-on="dbProperties">
		<constructor-arg name="name" value="journal" />
		<constructor-arg ref="sessionAccessor" />
		<constructor-arg ref="journalConfigurationProvider" />
        <constructor-arg name="extraHibernateProperties"><null /></constructor-arg>
		<constructor-arg name="likeEscapeCharacter" value="#" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
		<constructor-arg name="sequenceManager" ref="sequenceManager" />
		<constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
        <constructor-arg name="enableWordSearch" value="false" />
        <constructor-arg name="wordSearchExclusionMappings">
            <set>
                <!-- value>org.bonitasoft.engine.identity.model.SUser</value -->
            </set>
        </constructor-arg>
	</bean>

	<bean id="journalConfigurationProvider" class="com.bonitasoft.engine.persistence.HibernateConfigurationProviderExt">
		<constructor-arg name="properties">
			<props>
				<prop key="hibernate.current_session_context_class">jta</prop>
				<prop key="hibernate.transaction.factory_class">org.hibernate.engine.transaction.internal.jta.CMTTransactionFactory</prop>
				<prop key="hibernate.transaction.jta.platform">${hibernate.transaction.jta_platform}</prop>
				<prop key="hibernate.dialect">${hibernate.journal.dialect}</prop>
				<prop key="hibernate.interceptor">${hibernate.journal.interceptor}</prop>
				<prop key="hibernate.connection.datasource">${database.journal.datasource.name}</prop>
				<prop key="hibernate.cache.use_second_level_cache">true</prop>
				<prop key="hibernate.cache.use_query_cache">true</prop>
				<prop key="hibernate.cache.region.factory_class">org.hibernate.cache.ehcache.EhCacheRegionFactory</prop>
				<prop key="hibernate.show_sql">${hibernate.journal.show_sql}</prop>
				<prop key="hibernate.format_sql">${hibernate.journal.format_sql}</prop>
				<prop key="hibernate.use_sql_comments">${hibernate.journal.use_sql_comments}</prop>
				<prop key="hibernate.generate_statistics">false</prop>
				<prop key="hibernate.connection.shutdown">true</prop>
				<prop key="hibernate.jdbc.batch_size">50</prop>
				<prop key="hibernate.validator.autoregister_listeners">false</prop>
				<prop key="hibernate.validator.apply_to_ddl">false</prop>
				<prop key="javax.persistence.validation.mode">NONE</prop>
			</props>
		</constructor-arg>
		<constructor-arg ref="hbmResourcesConfigurationProvider" />
		<constructor-arg name="interfaceToClassMapping">
			<map>
				<!-- platform -->
				<entry key="org.bonitasoft.engine.platform.model.SPlatform" value="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" />
				<entry key="org.bonitasoft.engine.platform.model.STenant" value="org.bonitasoft.engine.platform.model.impl.STenantImpl" />
				<entry key="org.bonitasoft.engine.dependency.model.SPlatformDependency" value="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" />
				<entry key="org.bonitasoft.engine.dependency.model.SPlatformDependencyMapping" value="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" />
				<!-- services -->
				<entry key="org.bonitasoft.engine.dependency.model.SDependency" value="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" />
				<entry key="org.bonitasoft.engine.dependency.model.SDependencyMapping" value="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SUser" value="org.bonitasoft.engine.identity.model.impl.SUserImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SRole" value="org.bonitasoft.engine.identity.model.impl.SRoleImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SGroup" value="org.bonitasoft.engine.identity.model.impl.SGroupImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SUserMembership" value="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoDefinition" value="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SCustomUserInfoValue" value="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SContactInfo" value="org.bonitasoft.engine.identity.model.impl.SContactInfoImpl" />
				<entry key="org.bonitasoft.engine.identity.model.SUserLogin" value="org.bonitasoft.engine.identity.model.impl.SUserLoginImpl" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.SQueriableLog" value="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogImpl" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.SQueriableLogParameter" value="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogParameterImpl" />
				<entry key="org.bonitasoft.engine.scheduler.model.SJobDescriptor" value="org.bonitasoft.engine.scheduler.model.impl.SJobDescriptorImpl" />
				<entry key="org.bonitasoft.engine.scheduler.model.SJobParameter" value="org.bonitasoft.engine.scheduler.model.impl.SJobParameterImpl" />
				<entry key="org.bonitasoft.engine.scheduler.model.SJobLog" value="org.bonitasoft.engine.scheduler.model.impl.SJobLogImpl" />
				<entry key="org.bonitasoft.engine.command.model.SCommand" value="org.bonitasoft.engine.command.model.SCommandImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SBooleanDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SBooleanDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SIntegerDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SIntegerDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SDoubleDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDoubleDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SFloatDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SFloatDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SShortTextDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SShortTextDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SLongDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SLongDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SDateDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SDateDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SLongTextDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SLongTextDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SXMLDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SXMLDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SBlobDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SBlobDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.SXMLObjectDataInstance" value="org.bonitasoft.engine.data.instance.model.impl.SXMLObjectDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.profile.model.SProfile" value="org.bonitasoft.engine.profile.model.impl.SProfileImpl" />
				<entry key="org.bonitasoft.engine.profile.model.SProfileEntry" value="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" />
				<entry key="org.bonitasoft.engine.profile.model.SProfileMember" value="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" />
				<entry key="org.bonitasoft.engine.theme.model.STheme" value="org.bonitasoft.engine.theme.model.impl.SThemeImpl" />

				<entry key="org.bonitasoft.engine.data.instance.model.archive.SABooleanDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SABooleanDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SAIntegerDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAIntegerDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SADoubleDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADoubleDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SAFloatDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAFloatDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SAShortTextDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAShortTextDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SALongDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SALongDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SADateDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADateDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SALongTextDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SALongTextDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SAXMLDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SABlobDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SABlobDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SAXMLObjectDataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLObjectDataInstanceImpl" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.SADataInstance" value="org.bonitasoft.engine.data.instance.model.archive.impl.SADataInstanceImpl" />

				<!-- bpm -->
				<entry key="org.bonitasoft.engine.actor.mapping.model.SActor" value="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.SActorMember" value="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SProcessInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SFlowNodeInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SFlowNodeInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SAutomaticTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SAutomaticTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SCallActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SCallActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SSubProcessActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SSubProcessActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SUserTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SHumanTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SHumanTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SManualTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SManualTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SLoopActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SLoopActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SMultiInstanceActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SMultiInstanceActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SGatewayInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SGatewayInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SCatchEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SCatchEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SStartEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SStartEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateCatchEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateCatchEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SBoundaryEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SBoundaryEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateThrowEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateThrowEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SEndEventInstance" value="org.bonitasoft.engine.core.process.instance.model.event.impl.SEndEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.SProcessDefinitionDeployInfo" value="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstanceWithFailureInfo" value="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceWithFailureInfoImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SEventTriggerInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.STimerEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.STimerEventTriggerInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowMessageEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowMessageEventTriggerInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowSignalEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowSignalEventTriggerInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowErrorEventTriggerInstance" value="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowErrorEventTriggerInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingEventImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingMessageEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingMessageEventImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingSignalEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingSignalEventImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingErrorEvent" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingErrorEventImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageInstance" value="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SMessageInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SPendingActivityMapping" value="org.bonitasoft.engine.core.process.instance.model.impl.SPendingActivityMappingImpl" />
				<entry key="com.bonitasoft.engine.core.process.instance.model.breakpoint.SBreakpoint" value="com.bonitasoft.engine.core.process.instance.model.breakpoint.impl.SBreakpointImpl" />
                <entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SRefBusinessDataInstance" value="org.bonitasoft.engine.core.process.instance.model.impl.business.data.SRefBusinessDataInstanceImpl" />

				<entry key="org.bonitasoft.engine.core.category.model.SCategory" value="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" />
				<entry key="org.bonitasoft.engine.core.category.model.SProcessCategoryMapping" value="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" />
				<entry key="org.bonitasoft.engine.supervisor.mapping.model.SProcessSupervisor" value="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocumentMapping" value="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SDocument" value="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SMappedDocument" value="org.bonitasoft.engine.core.document.model.impl.SMappedDocumentImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.SLightDocument" value="org.bonitasoft.engine.core.document.model.impl.SLightDocumentImpl" />

                <entry key="org.bonitasoft.engine.core.process.comment.model.SComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SCommentImpl" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.SHumanComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SHumanCommentImpl" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.SSystemComment" value="org.bonitasoft.engine.core.process.comment.model.impl.SSystemCommentImpl" />
				<entry key="org.bonitasoft.engine.external.identity.mapping.model.SExternalIdentityMapping" value="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.archive.SAComment" value="org.bonitasoft.engine.core.process.comment.model.archive.impl.SACommentImpl" />

				<!-- archived objects -->
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAProcessInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAProcessInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAFlowNodeInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAFlowNodeInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAAutomaticTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAAutomaticTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SACallActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SACallActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASubProcessActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASubProcessActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAUserTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAUserTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAManualTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAManualTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAHumanTaskInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAHumanTaskInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SALoopActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SALoopActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAMultiInstanceActivityInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAMultiInstanceActivityInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.SAStartEventInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAStartEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.SAEndEventInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAEndEventInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAGatewayInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAGatewayInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SATransitionInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SATransitionInstanceImpl" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAConnectorInstance" value="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAConnectorInstanceImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SADocumentMapping" value="org.bonitasoft.engine.core.document.model.archive.impl.SADocumentMappingImpl" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SAMappedDocument" value="org.bonitasoft.engine.core.document.model.archive.impl.SAMappedDocumentImpl" />
			</map>
		</constructor-arg>
		<constructor-arg name="mappingExclusions">
			<list>
				<value>org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageEventCouple</value>
			</list>
		</constructor-arg>
		<!-- Query cache -->
        <constructor-arg name="cacheQueries">
            <map>
                <entry key="getDirectProfileMembersOfGroup" value="true"/>
                <entry key="getDirectProfileMembersOfRole" value="true"/>
                <entry key="getDirectProfileMembersOfUser" value="true"/>
                <entry key="getEntriesOfProfile" value="true"/>
                <entry key="getEntriesOfProfileByParentId" value="true"/>
                <entry key="getNumberOfEntriesOfProfile" value="true"/>
                <entry key="getNumberOfProfile" value="true"/>
                <entry key="getNumberOfProfileMemberOfProfile" value="true"/>
                <entry key="getNumberOfSProfileMemberForGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberForRole" value="true"/>
                <entry key="getNumberOfSProfileMemberForRoleAndGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberForUser" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSGroupForGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSGroupForRoleAndGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSGroupwithSRoleForRoleAndGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSRoleForRole" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSRoleForRoleAndGroup" value="true"/>
                <entry key="getNumberOfSProfileMemberwithSUserForUser" value="true"/>
                <entry key="getProfileByName" value="true"/>
                <entry key="getProfileMemberWithoutDisplayNameById" value="true"/>
                <entry key="getProfileMembersFromProfileIds" value="true"/>
                <entry key="getProfiles" value="true"/>
                <entry key="getProfilesOfUser" value="true"/>
                <entry key="getSProfileMembersWithoutDisplayName" value="true"/>
                <entry key="searchSProfileMemberForGroup" value="true"/>
                <entry key="searchSProfileMemberForRole" value="true"/>
                <entry key="searchSProfileMemberForRoleAndGroup" value="true"/>
                <entry key="searchSProfileMemberForUser" value="true"/>
                <entry key="searchSProfileMemberwithSGroupForGroup" value="true"/>
                <entry key="searchSProfileMemberwithSGroupForRoleAndGroup" value="true"/>
                <entry key="searchSProfileMemberwithSGroupwithSRoleForRoleAndGroup" value="true"/>
                <entry key="searchSProfileMemberwithSRoleForRole" value="true"/>
                <entry key="searchSProfileMemberwithSRoleForRoleAndGroup" value="true"/>
                <entry key="searchSProfileMemberwithSUserForUser" value="true"/>
                <entry key="getCategories" value="true"/>
                <entry key="getCategoriesOfProcess" value="true"/>
                <entry key="getCategorizedProcessIds" value="true"/>
                <entry key="getCategoryByName" value="true"/>
                <entry key="getNumberOfCategoriesOfProcess" value="true"/>
                <entry key="getNumberOfCategorizedProcessIds" value="true"/>
                <entry key="getNumberOfCategory" value="true"/>
                <entry key="getProcessCategoryMappingsOfCategory" value="true"/>
                <entry key="getProcessCategoryMappingsOfProcess" value="true"/>
                <entry key="getProcessIdsOfCategory" value="true"/>
                <entry key="getActorFromNameAndScopeId" value="true"/>
                <entry key="getActorMembersOfActor" value="true"/>
                <entry key="getActorMembersOfGroup" value="true"/>
                <entry key="getActorMembersOfRole" value="true"/>
                <entry key="getActorMembersOfUser" value="true"/>
                <entry key="getActorsByIds" value="true"/>
                <entry key="getActorsOfScope" value="true"/>
                <entry key="getActorsOfScopes" value="true"/>
                <entry key="getActorsOfUser" value="true"/>
                <entry key="getActorsOfUserCanStartProcessDefinition" value="true"/>
                <entry key="getNumberOfActorMembersOfActor" value="true"/>
                <entry key="getDataSourceByNameAndVersion" value="true"/>
                <entry key="getDataSourceParameterByNameAndDataSourceId" value="true"/>
                <entry key="getDataSourceParametersByDataSourceId" value="true"/>
                <entry key="getDataSources" value="true"/>
				<entry key="getPlatform" value="true" />
				<entry key="getDeployInfoByProcessDefId" value="true" />
				<entry key="getCommandByName" value="true" />
			</map>
		</constructor-arg>
	</bean>

	<bean id="hbmResourcesConfigurationProvider" class="com.bonitasoft.engine.persistence.HibernateResourcesConfigurationProviderExt">
		<property name="hbmResources">
			<list>
				<ref bean="hbm-bonita-log-model" />
				<ref bean="hbm-bonita-platform-model" />
				<ref bean="hbm-bonita-dependency-model" />
				<ref bean="hbm-bonita-dependency-platform-model" />
				<ref bean="hbm-bonita-identity-model" />
				<ref bean="hbm-bonita-process-definition-model" />
				<ref bean="hbm-bonita-process-instance-model" />
				<ref bean="hbm-bonita-process-instance-model-ext" />
				<ref bean="hbm-bonita-process-instance-model-arch" />
				<ref bean="hbm-bonita-scheduler" />
				<ref bean="hbm-bonita-document-model" />
				<ref bean="hbm-bos-actor-mapping" />
				<ref bean="hbm-bos-category-model" />
				<ref bean="hbm-bos-command-model" />
				<ref bean="hbm-bos-data-instance-model" />
				<ref bean="hbm-bos-data-instance-model-arch" />
				<ref bean="hbm-bos-process-comment-model" />
				<ref bean="hbm-bos-process-comment-model-arch" />
				<ref bean="hbm-bos-profile-model" />
				<ref bean="hbm-bos-theme-model" />
				<ref bean="hbm-bos-supervisor-mapping" />
				<ref bean="hbm-bos-external-identity-mapping" />
			</list>
		</property>
		<!-- L2 cache -->
		<constructor-arg name="cacheConcurrencyStrategies">
			<map>
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.command.model.SCommandImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.impl.SCommentImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" value="read-write" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" value="read-write" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SMappedDocumentImpl" value="read-write" />
                <entry key="org.bonitasoft.engine.core.document.model.impl.SLightDocumentImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" value="read-write" />

                <entry key="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SGroupImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SRoleImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserLoginImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" value="read-write" />
				<!-- <entry key="org.bonitasoft.engine.platform.command.model.impl.SPlatformCommandImpl" value="read-write"/> -->
				<entry key="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.platform.model.impl.STenantImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.theme.model.impl.SThemeImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SFlowNodeInstanceImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" value="read-write" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" value="read-write" />
			</map>
		</constructor-arg>
	</bean>


	<bean id="activityInstanceService" class="org.bonitasoft.engine.core.process.instance.impl.ActivityInstanceServiceImpl">
		<constructor-arg name="recorder" ref="tenantRecorderSync" />
		<constructor-arg name="persistenceService" ref="persistenceService" />
		<constructor-arg name="archiveService" ref="archiveService" />
        <constructor-arg name="dataInstanceService" ref="dataInstanceService" />
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
	</bean>

	<bean id="processInstanceService" class="org.bonitasoft.engine.core.process.instance.impl.ProcessInstanceServiceImpl">
		<constructor-arg name="recorder" ref="tenantRecorderSync" />
		<constructor-arg name="persistenceRead" ref="persistenceService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="activityService" ref="activityInstanceService" />
		<constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="bpmEventInstanceService" ref="eventInstanceService" />
		<constructor-arg name="dataInstanceService" ref="dataInstanceService" />
		<constructor-arg name="archiveService" ref="archiveService" />
        <constructor-arg name="transitionService" ref="transitionService" />
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager" />
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService" />
        <constructor-arg name="classLoaderService" ref="classLoaderService" />
        <constructor-arg name="documentService" ref="documentService" />
        <constructor-arg name="commentService" ref="commentService" />
	</bean>

    <bean id="gatewayInstanceService" class="org.bonitasoft.engine.core.process.instance.impl.GatewayInstanceServiceImpl">
        <constructor-arg name="recorder" ref="tenantRecorderSync" />
        <constructor-arg name="eventService" ref="eventService" />
        <constructor-arg name="persistenceRead" ref="persistenceService" />
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
        <constructor-arg name="flowNodeInstanceService" ref="activityInstanceService" />
    </bean>

	<bean id="transitionService" class="org.bonitasoft.engine.core.process.instance.impl.TransitionServiceImpl">
		<constructor-arg name="persistenceRead" ref="persistenceService" />
		<constructor-arg name="archiveService" ref="archiveService" />
    </bean>

	<bean id="eventInstanceService" class="org.bonitasoft.engine.core.process.instance.event.impl.EventInstanceServiceImpl">
		<constructor-arg name="recorder" ref="tenantRecorderSync" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="persistenceService" ref="persistenceService" />
		<constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="archiveService" ref="archiveService" />
    </bean>

	<bean id="breakpointService" class="com.bonitasoft.engine.core.process.instance.impl.BreakpointServiceImpl">
		<constructor-arg name="recorder" ref="tenantRecorderSync" />
		<constructor-arg name="persistenceRead" ref="persistenceService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="cacheService" ref="cacheService" />
        <constructor-arg name="queriableLoggerService" ref="syncQueriableLoggerService" />
        <constructor-arg name="transactionService" ref="transactionService" />
    </bean>

	<bean id="refBusinessDataService" class="org.bonitasoft.engine.core.process.instance.impl.RefBusinessDataServiceImpl">
		<constructor-arg name="recorder" ref="tenantRecorderSync" />
		<constructor-arg name="persistenceRead" ref="persistenceService" />
		<constructor-arg name="eventService" ref="eventService" />
        <constructor-arg name="queriableLoggerService" ref="syncQueriableLoggerService" />
    </bean>


	<bean id="hbm-bonita-process-instance-model-ext" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
		<property name="resources">
			<set>
				<value>com/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.hbm.xml</value>
				<value>com/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.queries.hbm.xml</value>
			</set>
		</property>
		<property name="classAliasMappings">
			<map>
				<entry key="com.bonitasoft.engine.core.process.instance.model.breakpoint.SBreakpoint" value="breakpoint" />
			</map>
		</property>
	</bean>

	<bean id="hbm-bonita-process-instance-model" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
		<property name="resources">
			<set>
				<value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.hbm.xml</value>
				<value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/process.instance.queries.hbm.xml</value>
			</set>
		</property>
		<property name="classAliasMappings">
			<map>
				<entry key="org.bonitasoft.engine.core.process.instance.model.SProcessInstance" value="p" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SFlowNodeInstance" value="f" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SGatewayInstance" value="g" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstance" value="c" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SConnectorInstanceWithFailureInfo" value="cfi" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SStartEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SBoundaryEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateCatchEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SIntermediateThrowEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SEndEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.SCatchEventInstance" value="e" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.STimerEventTriggerInstance" value="t" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SEventTriggerInstance" value="t" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowMessageEventTriggerInstance" value="t" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowSignalEventTriggerInstance" value="t" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.SThrowErrorEventTriggerInstance" value="t" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingEvent" value="s" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingMessageEvent" value="s" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingSignalEvent" value="s" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SWaitingErrorEvent" value="s" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.SMessageInstance" value="m" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SPendingActivityMapping" value="mapping" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SActivityInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SAutomaticTaskInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SReceiveTaskInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SCallActivityInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SSubProcessActivityInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SHumanTaskInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SLoopActivityInstance" value="la" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SMultiInstanceActivityInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.SUserTaskInstance" value="a" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.business.data.SRefBusinessDataInstance" value="ref" />
			</map>
		</property>
	</bean>

	<!-- Archived objects -->
	<bean  id="hbm-bonita-process-instance-model-arch" class="org.bonitasoft.engine.persistence.HibernateResourcesProvider">
		<property name="resources">
			<set>
				<value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/archived.process.instance.hbm.xml</value>
				<value>org/bonitasoft/engine/core/process/instance/model/impl/hibernate/archived.process.instance.queries.hbm.xml</value>
			</set>
		</property>
		<property name="classAliasMappings">
			<map>
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAProcessInstance" value="ap" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAFlowNodeInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAActivityInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAAutomaticTaskInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SACallActivityInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SASubProcessActivityInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAUserTaskInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAHumanTaskInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SALoopActivityInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAGatewayInstance" value="aa" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SATransitionInstance" value="at" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.SAConnectorInstance" value="ac" />
			</map>
		</property>
	</bean>


	<bean name="sequenceManager" class="org.bonitasoft.engine.sequence.SequenceManagerImpl">
		<constructor-arg name="lockService" ref="lockService" />
		<constructor-arg name="rangeSizes">
			<map>
				<!-- Most used objects: range size depends on process design -->
				<entry key="70" value="2000" /><!-- Job description -->
				<entry key="30" value="10000" /><!-- queriable log -->
				<entry key="31" value="200000" /><!-- queriable log parameter -->
				<entry key="10010" value="1000" /><!-- ProcessInstance -->
				<entry key="10011" value="20000" /><!-- ActivityInstance --><!-- 20 step by process average -->
				<entry key="10013" value="20000" /><!-- TransitoinInstance --><!-- same as activity instance -->
				<entry key="10014" value="20000" /><!-- ConnectorInstance --><!-- same as activity instance -->
				<entry key="20010" value="3000" /><!-- archived ProcessInstance --><!-- Process instance * nb state -->
				<entry key="20011" value="80000" /><!-- archived ActivityInstance --><!-- Activity instance * average nb state -->
				<entry key="20012" value="40000" /><!-- archived TransitionInstance --><!-- transition instance * nb state -->
				<entry key="10015" value="4000" /><!-- EventTriggerInstance --><!-- 1/5 of activity -->
				<entry key="10016" value="4000" /><!-- WaitingEvent --><!-- 1/5 of activity -->
				<entry key="10017" value="4000" /><!-- MessageInstance --><!-- 1/5 of activity -->
				<entry key="10018" value="4000" /><!-- PendingActivityMapping --><!-- 1/5 of activity -->
				<entry key="10020" value="5000" /><!-- data -->
				<entry key="10021" value="5000" /><!-- DataInstanceVisibilityMapping -->
				<entry key="20050" value="25000" /><!-- archived data --><!-- 5 change by data -->
				<entry key="20051" value="25000" /><!-- SADataInstanceVisibilityMapping -->
				<entry key="10060" value="20000" /><!-- comment -->
				<entry key="10080" value="20000" /><!-- SAComment -->

				<!-- less used objects : -->
				<!-- <entry key="10012" value="100" />ProcessDefinition -->
				<!-- <entry key="20" value="100" />user -->
				<!-- <entry key="21" value="100" />group -->
				<!-- <entry key="22" value="100" />role -->
				<!-- <entry key="23" value="100" />user_memebership -->
				<!-- <entry key="24" value="100" />P-metadata_def -->
				<!-- <entry key="25" value="100" />P-metadata_val -->
				<!-- <entry key="26" value="100" />user_contactinfo -->
				<!-- <entry key="60" value="100" />employee -->
				<!-- <entry key="61" value="100" />laptop -->
				<!-- <entry key="62" value="100" />address -->
				<!-- <entry key="63" value="100" />project -->
				<!-- <entry key="64" value="100" />employeeprojectmapping -->
				<!-- <entry key="65" value="100" />saemployee -->
				<!-- <entry key="70" value="100" />jobDescriptor -->
				<!-- <entry key="71" value="100" />jobParameter -->
				<!-- <entry key="90" value="100" />command -->
				<!-- <entry key="4" value="100" />platform command -->
				<!-- <entry key="10000" value="100" />actor -->
				<!-- <entry key="10001" value="100" />actorMapping -->
				<!-- <entry key="10019" value="100" />Breakpoint -->
				<!-- <entry key="10096" value="100" />RefBusinessDataInstance -->
				<!-- <entry key="10030" value="100" />category -->
				<!-- <entry key="10040" value="100" />SDocumentMapping -->
				<!-- <entry key="10050" value="100" />supervisor -->
				<!-- <entry key="10070" value="100" />ExternalIdentityMapping -->
				<!-- <entry key="10090" value="100" />document_content -->
				<!-- <entry key="20040" value="100" />SADocumentMapping -->
			</map>
		</constructor-arg>
		<constructor-arg name="defaultRangeSize" value="100" />
		<constructor-arg name="sequencesMappings">
			<map>
				<entry key="org.bonitasoft.engine.persistence.model.Human" value="1000" />
				<entry key="org.bonitasoft.engine.persistence.model.Child" value="1000" />
				<entry key="org.bonitasoft.engine.persistence.model.Parent" value="1000" />
				<entry key="org.bonitasoft.engine.persistence.model.Car" value="1001" />
			<!-- platform -->
				<entry key="org.bonitasoft.engine.platform.model.impl.SPlatformImpl" value="0" />
				<entry key="org.bonitasoft.engine.platform.model.impl.STenantImpl" value="1" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyImpl" value="2" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SPlatformDependencyMappingImpl" value="3" />
				<entry key="org.bonitasoft.engine.platform.command.model.impl.SPlatformCommandImpl" value="4" />
				<!--  tenant -->
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyImpl" value="10" />
				<entry key="org.bonitasoft.engine.dependency.model.impl.SDependencyMappingImpl" value="11" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserImpl" value="20" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SRoleImpl" value="21" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SGroupImpl" value="22" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SUserMembershipImpl" value="23" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoDefinitionImpl" value="24" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SCustomUserInfoValueImpl" value="25" />
				<entry key="org.bonitasoft.engine.identity.model.impl.SContactInfoImpl" value="26" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogImpl" value="30" />
				<entry key="org.bonitasoft.engine.queriablelogger.model.impl.SQueriableLogParameterImpl" value="31" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobDescriptorImpl" value="70" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobParameterImpl" value="71" />
				<entry key="org.bonitasoft.engine.scheduler.model.impl.SJobLogImpl" value="72" />
				<entry key="org.bonitasoft.engine.command.model.SCommandImpl" value="90" />
				<entry key="org.bonitasoft.engine.theme.model.impl.SThemeImpl" value="9890" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileImpl" value="9990" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileEntryImpl" value="9991" />
				<entry key="org.bonitasoft.engine.profile.model.impl.SProfileMemberImpl" value="9992" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorImpl" value="10000" />
				<entry key="org.bonitasoft.engine.actor.mapping.model.impl.SActorMemberImpl" value="10001" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SProcessInstanceImpl" value="10010" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SAutomaticTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SCallActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SSubProcessActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SUserTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SHumanTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SManualTaskInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SLoopActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SMultiInstanceActivityInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SGatewayInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SStartEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateCatchEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SBoundaryEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SIntermediateThrowEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.impl.SEndEventInstanceImpl" value="10011" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.impl.SProcessDefinitionDeployInfoImpl" value="10012" />
				<entry key="org.bonitasoft.engine.core.process.definition.model.impl.SActorImpl" value="10013" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceImpl" value="10014" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SConnectorInstanceWithFailureInfoImpl" value="10014" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.STimerEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowMessageEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowSignalEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.trigger.impl.SThrowErrorEventTriggerInstanceImpl" value="10015" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingMessageEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingSignalEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SWaitingErrorEventImpl" value="10016" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.event.handling.impl.SMessageInstanceImpl" value="10017" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.impl.SPendingActivityMappingImpl" value="10018" />
				<entry key="com.bonitasoft.engine.core.process.instance.model.breakpoint.impl.SBreakpointImpl" value="10019" />
				<entry key="com.bonitasoft.engine.core.process.instance.model.SBusinessDataInstanceImpl" value="10096" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SBooleanDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SIntegerDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDoubleDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SFloatDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SShortTextDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SLongDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SDateDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SLongTextDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SBlobDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.data.instance.model.impl.SXMLObjectDataInstanceImpl" value="10020" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SCategoryImpl" value="10030" />
				<entry key="org.bonitasoft.engine.core.category.model.impl.SProcessCategoryMappingImpl" value="10031" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentImpl" value="10040" />
				<entry key="org.bonitasoft.engine.supervisor.mapping.model.impl.SProcessSupervisorImpl" value="10050" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.impl.SHumanCommentImpl" value="10060" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.impl.SSystemCommentImpl" value="10060" />
				<entry key="org.bonitasoft.engine.external.identity.mapping.model.impl.SExternalIdentityMappingImpl" value="10070" />
				<entry key="org.bonitasoft.engine.core.process.comment.model.archive.impl.SACommentImpl" value="10080" />
				<entry key="org.bonitasoft.engine.core.document.model.impl.SDocumentMappingImpl" value="10090" />
				<entry key="org.bonitasoft.engine.core.migration.model.impl.SMigrationPlanDescriptorImpl" value="10100" />
				<entry key="com.bonitasoft.engine.core.reporting.SSaveReportWithContentImpl" value="500" />
				<!-- archived objects -->
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAProcessInstanceImpl" value="20010" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAFlowNodeInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAAutomaticTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SACallActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SASubProcessActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAUserTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAManualTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAHumanTaskInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SALoopActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAMultiInstanceActivityInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAStartEventInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.event.impl.SAEndEventInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SAGatewayInstanceImpl" value="20011" />
				<entry key="org.bonitasoft.engine.core.process.instance.model.archive.impl.SATransitionInstanceImpl" value="20012" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABooleanDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAIntegerDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADoubleDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAFloatDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAShortTextDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SADateDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SALongTextDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SABlobDataInstanceImpl" value="20050" />
				<entry key="org.bonitasoft.engine.data.instance.model.archive.impl.SAXMLObjectDataInstanceImpl" value="20050" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SADocumentMapping" value="20040" />
                <entry key="org.bonitasoft.engine.core.document.model.archive.SAMappedDocument" value="20040" />
			</map>
		</constructor-arg>
		<constructor-arg name="datasource" ref="bonitaSequenceManagerDSJNDI" />
		<constructor-arg name="retries" value="9" />
		<constructor-arg name="delay" value="10" />
		<constructor-arg name="delayFactor" value="3" />
	</bean>


  <bean id="transactionManager" class="org.springframework.jndi.JndiObjectFactoryBean">
    <property name="jndiName" value="${transaction.manager}" />
  </bean>
  
    <bean id="transactionService" class="com.bonitasoft.engine.transaction.JTATransactionServiceExt" scope="singleton">
        <constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="txManager" ref="transactionManager" />
        <constructor-arg name="retries" value="3" />
        <constructor-arg name="delay" value="20" />
        <constructor-arg name="delayFactor" value="1.5" />
    </bean>

	<bean id="workService" class="org.bonitasoft.engine.work.ExecutorWorkService">
		<constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="workSynchronizationFactory">
			<bean class="com.bonitasoft.engine.work.ParallelWorkSynchronizationFactory"></bean>
		</constructor-arg>
		<constructor-arg name="loggerService" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="sessionAccessor" ref="sessionAccessor" />
		<constructor-arg name="bonitaExecutorServiceFactory"
			ref="bonitaExecutorServiceFactory" />
		<constructor-arg name="workTerminationTimeout" value="30" />
	</bean>

	<bean id="bonitaExecutorServiceFactory"
		class="org.bonitasoft.engine.work.DefaultBonitaExecutorServiceFactory">
		<constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
		<constructor-arg name="tenantId" value="1" />
		<constructor-arg name="corePoolSize" value="25" />
		<constructor-arg name="maximumPoolSize" value="25" />
		<constructor-arg name="keepAliveTimeSeconds" value="60" />
		<constructor-arg name="queueCapacity" value="10000" />
	</bean>

	<bean id="dbProperties" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer">
		<property name="locations">
			<array>
				<value>file:${bonita.home}/server/platform/conf/bonita-platform.properties</value>
				<value>classpath:jdbc-${sysprop.bonita.db.vendor}.properties</value>
			</array>
		</property>
	</bean>

	<bean id="queriableLogSessionProvider" class="org.bonitasoft.engine.services.impl.QueriableLogSessionProviderImpl">
        <constructor-arg name="sessionService" ref="sessionService"/>
        <constructor-arg name="sessionAccessor" ref="sessionAccessor"/>
        <constructor-arg name="technicalLoggerService" ref="platformTechnicalLoggerService"/>
	</bean>

	<bean id="platformRecorderSync" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
		<constructor-arg name="persistenceService" ref="platformPersistenceService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>
	
	<bean id="tenantRecorderSync" class="org.bonitasoft.engine.recorder.impl.RecorderImpl">
		<constructor-arg name="persistenceService" ref="persistenceService" />
		<constructor-arg name="eventService" ref="eventService" />
		<constructor-arg name="logger" ref="tenantTechnicalLoggerService" />
	</bean>

	<bean id="parserFactory" class="org.bonitasoft.engine.xml.parse.SAXParserFactory">
        <constructor-arg name="validatorFactory" ref="xmlValidatorFactory"/>
        <constructor-arg name="logger" ref="platformTechnicalLoggerService"/>
	</bean>

    <bean id="xmlValidatorFactory" class="org.bonitasoft.engine.xml.SAXValidatorFactory"/>

	<bean id="xmlWriter" class="org.bonitasoft.engine.xml.DOMWriter">
        <constructor-arg name="validator" ref="xmlValidator"/>
	</bean>

    <bean id="xmlValidator" class="org.bonitasoft.engine.xml.SAXValidator"/>

	<bean id="xmlParser" class="org.bonitasoft.engine.xml.parse.SAXParser">
        <constructor-arg name="validator" ref="xmlValidator"/>
		<constructor-arg name="logger">
            <null/>
		</constructor-arg>
	</bean>

    <bean id="parentClassLoaderResolver"
          class="org.bonitasoft.engine.bpm.classloader.BonitaBPMParentClassLoaderResolver">
        <constructor-arg name="sessionAccessor" ref="sessionAccessor"/>
    </bean>
    
    <bean id="classLoaderService" class="org.bonitasoft.engine.classloader.ClassLoaderServiceImpl">
        <constructor-arg name="parentClassLoaderResolver" ref="parentClassLoaderResolver"/>
        <constructor-arg name="temporaryFolder" value="${java.io.tmpdir}"/>
        <constructor-arg name="logger" ref="platformTechnicalLoggerService"/>
	</bean>

    <bean id="sessionAccessor" class="org.bonitasoft.engine.sessionaccessor.ThreadLocalSessionAccessor"/>
    
	<bean id="transactionExecutor" class="org.bonitasoft.engine.execution.TransactionExecutorImpl">
        <constructor-arg name="transactionService" ref="transactionService"/>
	</bean>
	
	<bean id="searchEntitiesDescriptor" class="com.bonitasoft.engine.search.descriptor.SearchEntitiesDescriptor">
	</bean>

    <bean id="searchPlatformEntitiesDescriptor"
          class="com.bonitasoft.engine.search.descriptor.SearchPlatformEntitiesDescriptor">
	</bean>

	<bean id="flowNodeExecutor" class="org.bonitasoft.engine.execution.FlowNodeExecutorImpl">
        <constructor-arg name="flowNodeStateManager" ref="flowNodeStateManager"/>
        <constructor-arg name="activityInstanceManager" ref="activityInstanceService"/>
        <constructor-arg name="operationService" ref="operationService"/>
        <constructor-arg name="archiveService" ref="archiveService"/>
        <constructor-arg name="dataInstanceService" ref="dataInstanceService"/>
        <constructor-arg name="containerRegistry" ref="containerRegistry"/>
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager"/>
        <constructor-arg name="commentService" ref="commentService"/>
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService"/>
        <constructor-arg name="classLoaderService" ref="classLoaderService"/>
        <constructor-arg name="workService" ref="workService"/>
	</bean>

	<bean id="containerRegistry" class="org.bonitasoft.engine.execution.ContainerRegistry">
        <constructor-arg name="workService" ref="workService"/>
	</bean>

	<bean id="bpmInstancesCreator" class="org.bonitasoft.engine.bpm.model.impl.BPMInstancesCreator">
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="actorMappingService" ref="actorMappingService"/>
        <constructor-arg name="gatewayInstanceService" ref="gatewayInstanceService"/>
        <constructor-arg name="eventInstanceService" ref="eventInstanceService"/>
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService"/>
        <constructor-arg name="expressionResolverService" ref="expressionResolverService"/>
        <constructor-arg name="dataInstanceService" ref="dataInstanceService"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
        <constructor-arg name="transientDataService" ref="transientDataService"/>
        <constructor-arg name="archiveService" ref="archiveService"/>
        <constructor-arg name="parentContainerResolver" ref="parentContainerResolver"/>
        <constructor-arg name="refBusinessDataService" ref="refBusinessDataService"/>
	</bean>

	<bean id="flowNodeStateManager" class="com.bonitasoft.engine.execution.FlowNodeStateManagerExt">
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager"/>
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService"/>
        <constructor-arg name="classLoaderService" ref="classLoaderService"/>
        <constructor-arg name="expressionResolverService" ref="expressionResolverService"/>
        <constructor-arg name="schedulerService" ref="scheduler"/>
        <constructor-arg name="dataInstanceService" ref="dataInstanceService"/>
        <constructor-arg name="eventInstanceService" ref="eventInstanceService"/>
        <constructor-arg name="operationService" ref="operationService"/>
        <constructor-arg name="bpmInstancesCreator" ref="bpmInstancesCreator"/>
        <constructor-arg name="containerRegistry" ref="containerRegistry"/>
        <constructor-arg name="archiveService" ref="archiveService"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
        <constructor-arg name="documentService" ref="documentService"/>
        <constructor-arg name="commentService" ref="commentService"/>
        <constructor-arg name="eventsHandler" ref="eventsHandler"/>
        <constructor-arg name="userFilterService" ref="userFilterService"/>
        <constructor-arg name="actorMappingService" ref="actorMappingService"/>
		<constructor-arg name="workService" ref="workService"/>
		<constructor-arg name="identityService" ref="identityService"/>
        <constructor-arg name="breakpointService" ref="breakpointService"/>
        <constructor-arg name="refBusinessDataService" ref="refBusinessDataService"/>
        <constructor-arg name="parentContainerResolver" ref="parentContainerResolver"/>
	</bean>

	<bean id="eventsHandler" class="org.bonitasoft.engine.execution.event.EventsHandler">
        <constructor-arg name="schedulerService" ref="scheduler"/>
        <constructor-arg name="expressionResolverService" ref="expressionResolverService"/>
        <constructor-arg name="eventInstanceService" ref="eventInstanceService"/>
        <constructor-arg name="bpmInstancesCreator" ref="bpmInstancesCreator"/>
        <constructor-arg name="dataInstanceService" ref="dataInstanceService"/>
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager"/>
        <constructor-arg name="containerRegistry" ref="containerRegistry"/>
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="flowNodeInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
	</bean>

    <bean id="transitionConditionEvaluator" class="org.bonitasoft.engine.execution.transition.TransitionConditionEvaluator">
        <constructor-arg name="resolverService" ref="expressionResolverService" />
    </bean>

    <bean id="defaultTransitionGetter" class="org.bonitasoft.engine.execution.transition.DefaultTransitionGetter"/>

    <bean id="implicitGatewayTransitionEvaluator" class="org.bonitasoft.engine.execution.transition.ImplicitGatewayTransitionEvaluator">
        <constructor-arg name="conditionEvaluator" ref="transitionConditionEvaluator"/>
        <constructor-arg name="defaultTransitionGetter" ref="defaultTransitionGetter"/>
    </bean>


    <bean id="inclusiveGatewayTransitionEvaluationStrategy" class="org.bonitasoft.engine.execution.transition.InclusiveGatewayTransitionEvaluationStrategy"/>
    <bean id="exclusiveGatewayTransitionEvaluationStrategy" class="org.bonitasoft.engine.execution.transition.ExclusiveGatewayTransitionEvaluationStrategy"/>

    <bean id="inclusiveTransitionEvaluator" class="org.bonitasoft.engine.execution.transition.InclusiveExclusiveTransitionEvaluator">
        <constructor-arg name="strategy" ref="inclusiveGatewayTransitionEvaluationStrategy"/>
        <constructor-arg name="evaluator" ref="transitionConditionEvaluator"/>
        <constructor-arg name="defaultTransitionGetter" ref="defaultTransitionGetter"/>

    </bean>

    <bean id="exclusiveTransitionEvaluator" class="org.bonitasoft.engine.execution.transition.InclusiveExclusiveTransitionEvaluator">
        <constructor-arg name="strategy" ref="exclusiveGatewayTransitionEvaluationStrategy"/>
        <constructor-arg name="evaluator" ref="transitionConditionEvaluator"/>
        <constructor-arg name="defaultTransitionGetter" ref="defaultTransitionGetter"/>
    </bean>

    <bean id="parallelGatewayTransitionEvaluator" class="org.bonitasoft.engine.execution.transition.ParallelGatewayTransitionEvaluator"/>

    <bean id="transitionEvaluator" class="org.bonitasoft.engine.execution.TransitionEvaluator">
        <constructor-arg name="implicitGatewayTransitionEvaluator" ref="implicitGatewayTransitionEvaluator"/>
        <constructor-arg name="parallelGatewayTransitionEvaluator" ref="parallelGatewayTransitionEvaluator"/>
        <constructor-arg name="inclusiveTransitionEvaluator" ref="inclusiveTransitionEvaluator"/>
        <constructor-arg name="exclusiveTransitionEvaluator" ref="exclusiveTransitionEvaluator"/>
    </bean>


    <bean id="processExecutor" class="com.bonitasoft.engine.execution.ProcessExecutorExt">
        <constructor-arg name="activityInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
        <constructor-arg name="flowNodeExecutor" ref="flowNodeExecutor"/>
        <constructor-arg name="workService" ref="workService"/>
        <constructor-arg name="processDefinitionService" ref="processDefinitionManager"/>
        <constructor-arg name="gatewayInstanceService" ref="gatewayInstanceService"/>
        <constructor-arg name="transitionService" ref="transitionService"/>
        <constructor-arg name="eventInstanceService" ref="eventInstanceService"/>
        <constructor-arg name="connectorService" ref="connectorService"/>
        <constructor-arg name="connectorInstanceService" ref="connectorInstanceService"/>
        <constructor-arg name="classLoaderService" ref="classLoaderService"/>
        <constructor-arg name="operationService" ref="operationService"/>
        <constructor-arg name="expressionResolverService" ref="expressionResolverService"/>
        <constructor-arg name="eventService" ref="eventService"/>
		<constructor-arg name="handlers">
			<map>
				<entry key="PROCESSINSTANCE_STATE_UPDATED">
                    <bean class="org.bonitasoft.engine.execution.handler.ArchiveProcessInstancesHandler">
                        <constructor-arg name="tenantId" value="0"/>
					</bean>
				</entry>
			</map>
		</constructor-arg>
        <constructor-arg name="documentService" ref="documentService"/>
        <constructor-arg name="sessionAccessor" ref="sessionAccessor"/>
        <constructor-arg name="containerRegistry" ref="containerRegistry"/>
        <constructor-arg name="bpmInstancesCreator" ref="bpmInstancesCreator"/>
        <constructor-arg name="eventsHandler" ref="eventsHandler"/>
        <constructor-arg name="flowNodeStateManager" ref="flowNodeStateManager"/>
        <constructor-arg name="businessDataRepository" ref="businessDataRepository"/>
        <constructor-arg name="refBusinessDataService" ref="refBusinessDataService"/>
        <constructor-arg name="transitionEvaluator" ref="transitionEvaluator" />
	</bean>

    <bean id="transactionalProcessInstanceInterruptor"
          class="org.bonitasoft.engine.execution.TransactionalProcessInstanceInterruptor">
        <constructor-arg name="processInstanceService" ref="processInstanceService"/>
        <constructor-arg name="flowNodeInstanceService" ref="activityInstanceService"/>
        <constructor-arg name="processExecutor" ref="processExecutor"/>
        <constructor-arg name="logger" ref="tenantTechnicalLoggerService"/>
	</bean>

	<bean id="nodeConfiguration" class="org.bonitasoft.engine.api.impl.NodeConfigurationImpl" autowire="byType">
		<property name="shouldStartScheduler" value="true" />
		<property name="shouldRestartElements" value="true" />
		<property name="shouldStartEventHandlingJob" value="true" />
		<property name="jobListeners">
			<list>
				<ref bean="loggerJobListener" />
				<ref bean="jdbcJobListener" />
			</list>
		</property>
	</bean>

    <bean id="jobLogCreator" class="org.bonitasoft.engine.scheduler.impl.JobLogCreator">
        <constructor-arg name="jobService" ref="jobService" />
        <constructor-arg name="logger" ref="platformTechnicalLoggerService"/>
    </bean>

	<bean id="jdbcJobListener" class="org.bonitasoft.engine.scheduler.impl.JDBCJobListener">
		<constructor-arg name="schedulerService" ref="scheduler" />
		<constructor-arg name="schedulerExecutor" ref="schedulerExecutor" />
		<constructor-arg name="jobService" ref="jobService" />
        <constructor-arg name="sessionAccessor" ref="sessionAccessor" />
        <constructor-arg name="transactionService" ref="transactionService" />
		<constructor-arg name="incidentService" ref="incidentService" />
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
        <constructor-arg name="jobLogCreator" ref="jobLogCreator"/>
	</bean>

	<bean id="loggerJobListener" class="org.bonitasoft.engine.scheduler.impl.TechnicalLoggerJobListener">
		<constructor-arg name="logger" ref="platformTechnicalLoggerService" />
	</bean>

	<bean id="dependencyResolver" class="org.bonitasoft.engine.api.impl.resolver.DependencyResolver">
		<constructor-arg name="dependencyResolvers">
			<list>
                <bean class="org.bonitasoft.engine.api.impl.resolver.ActorProcessDependencyResolver"/>
                <bean class="org.bonitasoft.engine.api.impl.resolver.ConnectorProcessDependencyResolver"/>
                <bean class="org.bonitasoft.engine.api.impl.resolver.UserFilterProcessDependencyResolver"/>
                <bean class="org.bonitasoft.engine.api.impl.resolver.ParameterProcessDependencyResolver"/>
                <bean class="org.bonitasoft.engine.api.impl.resolver.BusinessDataProcessDependencyResolver"/>
			</list>
		</constructor-arg>
	</bean>

</beans>